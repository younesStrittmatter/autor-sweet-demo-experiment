{"version":3,"file":"index.browser.js","sources":["../../../node_modules/auto-bind/index.js","../src/ExtensionManager.ts","../src/modules/utils.ts","../src/modules/data/DataColumn.ts","../src/modules/data/utils.ts","../src/modules/data/DataCollection.ts","../src/modules/data/index.ts","../src/modules/plugin-api/KeyboardListenerAPI.ts","../src/modules/plugins.ts","../src/modules/plugin-api/AudioPlayer.ts","../src/modules/plugin-api/MediaAPI.ts","../src/modules/plugin-api/SimulationAPI.ts","../src/modules/plugin-api/TimeoutAPI.ts","../src/modules/plugin-api/index.ts","../../../node_modules/random-words/index.js","../../../node_modules/seedrandom/lib/alea.js","../src/modules/randomization.ts","../src/modules/turk.ts","../src/ProgressBar.ts","../src/timeline/index.ts","../src/timeline/util.ts","../src/timeline/TimelineNode.ts","../src/timeline/Trial.ts","../src/timeline/Timeline.ts","../src/JsPsych.ts","../src/migration.ts","../src/index.ts"],"sourcesContent":["'use strict';\n\n// Gets all non-builtin properties up the prototype chain\nconst getAllProperties = object => {\n\tconst properties = new Set();\n\n\tdo {\n\t\tfor (const key of Reflect.ownKeys(object)) {\n\t\t\tproperties.add([object, key]);\n\t\t}\n\t} while ((object = Reflect.getPrototypeOf(object)) && object !== Object.prototype);\n\n\treturn properties;\n};\n\nmodule.exports = (self, {include, exclude} = {}) => {\n\tconst filter = key => {\n\t\tconst match = pattern => typeof pattern === 'string' ? key === pattern : pattern.test(key);\n\n\t\tif (include) {\n\t\t\treturn include.some(match);\n\t\t}\n\n\t\tif (exclude) {\n\t\t\treturn !exclude.some(match);\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tfor (const [object, key] of getAllProperties(self.constructor.prototype)) {\n\t\tif (key === 'constructor' || !filter(key)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst descriptor = Reflect.getOwnPropertyDescriptor(object, key);\n\t\tif (descriptor && typeof descriptor.value === 'function') {\n\t\t\tself[key] = self[key].bind(self);\n\t\t}\n\t}\n\n\treturn self;\n};\n","import { Class } from \"type-fest\";\n\nimport { JsPsychExtension, JsPsychExtensionInfo } from \"./modules/extensions\";\nimport { TrialExtensionsConfiguration } from \"./timeline\";\n\nexport type GlobalExtensionsConfiguration = Array<{\n  type: Class<JsPsychExtension>;\n  params?: Record<string, any>;\n}>;\n\nexport interface ExtensionManagerDependencies {\n  /**\n   * Given an extension class, create a new instance of it and return it.\n   */\n  instantiateExtension(extensionClass: Class<JsPsychExtension>): JsPsychExtension;\n}\n\nexport class ExtensionManager {\n  private static getExtensionNameByClass(extensionClass: Class<JsPsychExtension>) {\n    return (extensionClass[\"info\"] as JsPsychExtensionInfo).name;\n  }\n\n  public readonly extensions: Record<string, JsPsychExtension>;\n\n  constructor(\n    private dependencies: ExtensionManagerDependencies,\n    private extensionsConfiguration: GlobalExtensionsConfiguration\n  ) {\n    this.extensions = Object.fromEntries(\n      extensionsConfiguration.map((extension) => [\n        ExtensionManager.getExtensionNameByClass(extension.type),\n        this.dependencies.instantiateExtension(extension.type),\n      ])\n    );\n  }\n\n  private getExtensionInstanceByClass(extensionClass: Class<JsPsychExtension>) {\n    return this.extensions[ExtensionManager.getExtensionNameByClass(extensionClass)];\n  }\n\n  public async initializeExtensions() {\n    await Promise.all(\n      this.extensionsConfiguration.map(({ type, params = {} }) => {\n        this.getExtensionInstanceByClass(type).initialize(params);\n\n        const extensionInfo = type[\"info\"] as JsPsychExtensionInfo;\n\n        if (!(\"version\" in extensionInfo) && !(\"data\" in extensionInfo)) {\n          console.warn(\n            extensionInfo[\"name\"],\n            \"is missing the 'version' and 'data' fields. Please update extension as 'version' and 'data' will be required in v9. See https://www.jspsych.org/latest/developers/extension-development/ for more details.\"\n          );\n        } else if (!(\"version\" in extensionInfo)) {\n          console.warn(\n            extensionInfo[\"name\"],\n            \"is missing the 'version' field. Please update extension as 'version' will be required in v9. See https://www.jspsych.org/latest/developers/extension-development/ for more details.\"\n          );\n        } else if (!(\"data\" in extensionInfo)) {\n          console.warn(\n            extensionInfo[\"name\"],\n            \"is missing the 'data' field. Please update extension as 'data' will be required in v9. See https://www.jspsych.org/latest/developers/extension-development/ for more details.\"\n          );\n        }\n      })\n    );\n  }\n\n  public onStart(trialExtensionsConfiguration: TrialExtensionsConfiguration = []) {\n    for (const { type, params } of trialExtensionsConfiguration) {\n      this.getExtensionInstanceByClass(type)?.on_start(params);\n    }\n  }\n\n  public onLoad(trialExtensionsConfiguration: TrialExtensionsConfiguration = []) {\n    for (const { type, params } of trialExtensionsConfiguration) {\n      this.getExtensionInstanceByClass(type)?.on_load(params);\n    }\n  }\n\n  public async onFinish(\n    trialExtensionsConfiguration: TrialExtensionsConfiguration = []\n  ): Promise<Record<string, any>> {\n    const results = await Promise.all(\n      trialExtensionsConfiguration.map(({ type, params }) =>\n        Promise.resolve(this.getExtensionInstanceByClass(type)?.on_finish(params))\n      )\n    );\n\n    const extensionInfos = trialExtensionsConfiguration.length\n      ? {\n          extension_type: trialExtensionsConfiguration.map(({ type }) => type[\"info\"].name),\n          extension_version: trialExtensionsConfiguration.map(({ type }) => type[\"info\"].version),\n        }\n      : {};\n\n    results.unshift(extensionInfos);\n\n    return Object.assign({}, ...results);\n  }\n}\n","/**\n * Finds all of the unique items in an array.\n * @param arr The array to extract unique values from\n * @returns An array with one copy of each unique item in `arr`\n */\nexport function unique(arr: Array<any>) {\n  return [...new Set(arr)];\n}\n\nexport function deepCopy(obj) {\n  if (!obj) return obj;\n  let out;\n  if (Array.isArray(obj)) {\n    out = [];\n    for (const x of obj) {\n      out.push(deepCopy(x));\n    }\n    return out;\n  } else if (typeof obj === \"object\" && obj !== null) {\n    out = {};\n    for (const key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        out[key] = deepCopy(obj[key]);\n      }\n    }\n    return out;\n  } else {\n    return obj;\n  }\n}\n\n/**\n * Merges two objects, recursively.\n * @param obj1 Object to merge\n * @param obj2 Object to merge\n */\nexport function deepMerge(obj1: any, obj2: any): any {\n  let merged = {};\n  for (const key in obj1) {\n    if (obj1.hasOwnProperty(key)) {\n      if (typeof obj1[key] === \"object\" && obj2.hasOwnProperty(key)) {\n        merged[key] = deepMerge(obj1[key], obj2[key]);\n      } else {\n        merged[key] = obj1[key];\n      }\n    }\n  }\n  for (const key in obj2) {\n    if (obj2.hasOwnProperty(key)) {\n      if (!merged.hasOwnProperty(key)) {\n        merged[key] = obj2[key];\n      } else if (typeof obj2[key] === \"object\") {\n        merged[key] = deepMerge(merged[key], obj2[key]);\n      } else {\n        merged[key] = obj2[key];\n      }\n    }\n  }\n\n  return merged;\n}\n","export class DataColumn {\n  constructor(public values = []) {}\n\n  sum() {\n    let s = 0;\n    for (const v of this.values) {\n      s += v;\n    }\n    return s;\n  }\n\n  mean() {\n    let sum = 0;\n    let count = 0;\n    for (const value of this.values) {\n      if (typeof value !== \"undefined\" && value !== null) {\n        sum += value;\n        count++;\n      }\n    }\n    if (count === 0) {\n      return undefined;\n    }\n    return sum / count;\n  }\n\n  median() {\n    if (this.values.length === 0) {\n      return undefined;\n    }\n    const numbers = this.values.slice(0).sort(function (a, b) {\n      return a - b;\n    });\n    const middle = Math.floor(numbers.length / 2);\n    const isEven = numbers.length % 2 === 0;\n    return isEven ? (numbers[middle] + numbers[middle - 1]) / 2 : numbers[middle];\n  }\n\n  min() {\n    return Math.min.apply(null, this.values);\n  }\n\n  max() {\n    return Math.max.apply(null, this.values);\n  }\n\n  count() {\n    return this.values.length;\n  }\n\n  variance() {\n    const mean = this.mean();\n    let sum_square_error = 0;\n    for (const x of this.values) {\n      sum_square_error += Math.pow(x - mean, 2);\n    }\n    const mse = sum_square_error / (this.values.length - 1);\n    return mse;\n  }\n\n  sd() {\n    const mse = this.variance();\n    const rmse = Math.sqrt(mse);\n    return rmse;\n  }\n\n  frequencies() {\n    const unique = {};\n    for (const x of this.values) {\n      if (typeof unique[x] === \"undefined\") {\n        unique[x] = 1;\n      } else {\n        unique[x]++;\n      }\n    }\n    return unique;\n  }\n\n  all(eval_fn) {\n    for (const x of this.values) {\n      if (!eval_fn(x)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  subset(eval_fn) {\n    const out = [];\n    for (const x of this.values) {\n      if (eval_fn(x)) {\n        out.push(x);\n      }\n    }\n    return new DataColumn(out);\n  }\n}\n","// private function to save text file on local drive\nexport function saveTextToFile(textstr: string, filename: string) {\n  const blobToSave = new Blob([textstr], {\n    type: \"text/plain\",\n  });\n  let blobURL = \"\";\n  if (typeof window.webkitURL !== \"undefined\") {\n    blobURL = window.webkitURL.createObjectURL(blobToSave);\n  } else {\n    blobURL = window.URL.createObjectURL(blobToSave);\n  }\n\n  const link = document.createElement(\"a\");\n  link.id = \"jspsych-download-as-text-link\";\n  link.style.display = \"none\";\n  link.download = filename;\n  link.href = blobURL;\n  link.click();\n}\n\n// this function based on code suggested by StackOverflow users:\n// http://stackoverflow.com/users/64741/zachary\n// http://stackoverflow.com/users/317/joseph-sturtevant\n\nexport function JSON2CSV(objArray) {\n  const array = typeof objArray != \"object\" ? JSON.parse(objArray) : objArray;\n  let line = \"\";\n  let result = \"\";\n  const columns = [];\n\n  for (const row of array) {\n    for (const key in row) {\n      let keyString = key + \"\";\n      keyString = '\"' + keyString.replace(/\"/g, '\"\"') + '\",';\n      if (!columns.includes(key)) {\n        columns.push(key);\n        line += keyString;\n      }\n    }\n  }\n\n  line = line.slice(0, -1); // removes last comma\n  result += line + \"\\r\\n\";\n\n  for (const row of array) {\n    line = \"\";\n    for (const col of columns) {\n      let value = typeof row[col] === \"undefined\" ? \"\" : row[col];\n      if (typeof value == \"object\") {\n        value = JSON.stringify(value);\n      }\n      const valueString = value + \"\";\n      line += '\"' + valueString.replace(/\"/g, '\"\"') + '\",';\n    }\n\n    line = line.slice(0, -1);\n    result += line + \"\\r\\n\";\n  }\n\n  return result;\n}\n\n// this function is modified from StackOverflow:\n// http://stackoverflow.com/posts/3855394\n\nexport function getQueryString() {\n  const a = window.location.search.substr(1).split(\"&\");\n  const b = {};\n  for (let i = 0; i < a.length; ++i) {\n    const p = a[i].split(\"=\", 2);\n    if (p.length == 1) b[p[0]] = \"\";\n    else b[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\n  }\n  return b;\n}\n","import { deepCopy } from \"../utils\";\nimport { DataColumn } from \"./DataColumn\";\nimport { JSON2CSV, saveTextToFile } from \"./utils\";\n\nexport class DataCollection {\n  private trials: any[];\n\n  constructor(data = []) {\n    this.trials = data;\n  }\n\n  push(new_data) {\n    this.trials.push(new_data);\n    return this;\n  }\n\n  join(other_data_collection: DataCollection) {\n    this.trials = this.trials.concat(other_data_collection.values());\n    return this;\n  }\n\n  top() {\n    if (this.trials.length <= 1) {\n      return this;\n    } else {\n      return new DataCollection([this.trials[this.trials.length - 1]]);\n    }\n  }\n\n  /**\n   * Queries the first n elements in a collection of trials.\n   *\n   * @param n A positive integer of elements to return. A value of\n   *          n that is less than 1 will throw an error.\n   *\n   * @return First n objects of a collection of trials. If fewer than\n   *         n trials are available, the trials.length elements will\n   *         be returned.\n   *\n   */\n  first(n = 1) {\n    if (n < 1) {\n      throw `You must query with a positive nonzero integer. Please use a\n               different value for n.`;\n    }\n    if (this.trials.length === 0) return new DataCollection();\n    if (n > this.trials.length) n = this.trials.length;\n    return new DataCollection(this.trials.slice(0, n));\n  }\n\n  /**\n   * Queries the last n elements in a collection of trials.\n   *\n   * @param n A positive integer of elements to return. A value of\n   *          n that is less than 1 will throw an error.\n   *\n   * @return Last n objects of a collection of trials. If fewer than\n   *         n trials are available, the trials.length elements will\n   *         be returned.\n   *\n   */\n  last(n = 1) {\n    if (n < 1) {\n      throw `You must query with a positive nonzero integer. Please use a\n               different value for n.`;\n    }\n    if (this.trials.length === 0) return new DataCollection();\n    if (n > this.trials.length) n = this.trials.length;\n    return new DataCollection(this.trials.slice(this.trials.length - n, this.trials.length));\n  }\n\n  values() {\n    return this.trials;\n  }\n\n  count() {\n    return this.trials.length;\n  }\n\n  readOnly() {\n    return new DataCollection(deepCopy(this.trials));\n  }\n\n  addToAll(properties) {\n    for (const trial of this.trials) {\n      Object.assign(trial, properties);\n    }\n    return this;\n  }\n\n  addToLast(properties) {\n    if (this.trials.length > 0) {\n      Object.assign(this.trials[this.trials.length - 1], properties);\n    }\n    return this;\n  }\n\n  filter(filters) {\n    // [{p1: v1, p2:v2}, {p1:v2}]\n    // {p1: v1}\n    let f;\n    if (!Array.isArray(filters)) {\n      f = deepCopy([filters]);\n    } else {\n      f = deepCopy(filters);\n    }\n\n    const filtered_data = [];\n    for (const trial of this.trials) {\n      let keep = false;\n      for (const filter of f) {\n        let match = true;\n        for (const key of Object.keys(filter)) {\n          if (typeof trial[key] !== \"undefined\" && trial[key] === filter[key]) {\n            // matches on this key!\n          } else {\n            match = false;\n          }\n        }\n        if (match) {\n          keep = true;\n          break;\n        } // can break because each filter is OR.\n      }\n      if (keep) {\n        filtered_data.push(trial);\n      }\n    }\n\n    return new DataCollection(filtered_data);\n  }\n\n  filterCustom(fn) {\n    return new DataCollection(this.trials.filter(fn));\n  }\n\n  filterColumns(columns: Array<string>) {\n    return new DataCollection(\n      this.trials.map((trial) =>\n        Object.fromEntries(columns.filter((key) => key in trial).map((key) => [key, trial[key]]))\n      )\n    );\n  }\n\n  select(column) {\n    const values = [];\n    for (const trial of this.trials) {\n      if (typeof trial[column] !== \"undefined\") {\n        values.push(trial[column]);\n      }\n    }\n    return new DataColumn(values);\n  }\n\n  ignore(columns) {\n    if (!Array.isArray(columns)) {\n      columns = [columns];\n    }\n    const o = deepCopy(this.trials);\n    for (const trial of o) {\n      for (const delete_key of columns) {\n        delete trial[delete_key];\n      }\n    }\n    return new DataCollection(o);\n  }\n\n  uniqueNames() {\n    const names = [];\n\n    for (const trial of this.trials) {\n      for (const key of Object.keys(trial)) {\n        if (!names.includes(key)) {\n          names.push(key);\n        }\n      }\n    }\n\n    return names;\n  }\n\n  csv() {\n    return JSON2CSV(this.trials);\n  }\n\n  json(pretty = false) {\n    if (pretty) {\n      return JSON.stringify(this.trials, null, \"\\t\");\n    }\n    return JSON.stringify(this.trials);\n  }\n\n  localSave(format, filename) {\n    format = format.toLowerCase();\n    let data_string;\n    if (format === \"json\") {\n      data_string = this.json();\n    } else if (format === \"csv\") {\n      data_string = this.csv();\n    } else {\n      throw new Error('Invalid format specified for localSave. Must be \"json\" or \"csv\".');\n    }\n\n    saveTextToFile(data_string, filename);\n  }\n}\n","import { TrialResult } from \"../../timeline\";\nimport { Trial } from \"../../timeline/Trial\";\nimport { DataCollection } from \"./DataCollection\";\nimport { getQueryString } from \"./utils\";\n\nexport type InteractionEvent = \"blur\" | \"focus\" | \"fullscreenenter\" | \"fullscreenexit\";\n\nexport interface InteractionRecord {\n  event: InteractionEvent;\n  trial: number;\n  time: number;\n}\n\n/**\n * Functions and options needed by the `JsPsychData` module\n */\nexport interface JsPsychDataDependencies {\n  /**\n   * Returns progress information for interaction records.\n   */\n  getProgress: () => { trial: number; time: number };\n\n  onInteractionRecordAdded: (record: InteractionRecord) => void;\n\n  getDisplayElement: () => HTMLElement;\n}\n\nexport class JsPsychData {\n  private results: DataCollection;\n  private resultToTrialMap: WeakMap<TrialResult, Trial>;\n\n  /** Browser interaction event data */\n  private interactionRecords: DataCollection;\n\n  /** Data properties for all trials */\n  private dataProperties = {};\n\n  // cache the query_string\n  private query_string;\n\n  constructor(private dependencies: JsPsychDataDependencies) {\n    this.reset();\n  }\n\n  reset() {\n    this.results = new DataCollection();\n    this.resultToTrialMap = new WeakMap<TrialResult, Trial>();\n    this.interactionRecords = new DataCollection();\n  }\n\n  get() {\n    return this.results;\n  }\n\n  getInteractionData() {\n    return this.interactionRecords;\n  }\n\n  write(trial: Trial) {\n    const result = trial.getResult();\n    Object.assign(result, this.dataProperties);\n    this.results.push(result);\n    this.resultToTrialMap.set(result, trial);\n  }\n\n  addProperties(properties) {\n    // first, add the properties to all data that's already stored\n    this.results.addToAll(properties);\n\n    // now add to list so that it gets appended to all future data\n    this.dataProperties = Object.assign({}, this.dataProperties, properties);\n  }\n\n  addDataToLastTrial(data) {\n    this.results.addToLast(data);\n  }\n\n  getLastTrialData() {\n    return this.results.top();\n  }\n\n  getLastTimelineData() {\n    const lastResult = this.getLastTrialData().values()[0];\n\n    return new DataCollection(\n      lastResult ? this.resultToTrialMap.get(lastResult).parent.getResults() : []\n    );\n  }\n\n  displayData(format = \"json\") {\n    format = format.toLowerCase();\n    if (format !== \"json\" && format !== \"csv\") {\n      console.log(\"Invalid format declared for displayData function. Using json as default.\");\n      format = \"json\";\n    }\n\n    const dataContainer = document.createElement(\"pre\");\n    dataContainer.id = \"jspsych-data-display\";\n    dataContainer.textContent = format === \"json\" ? this.results.json(true) : this.results.csv();\n\n    this.dependencies.getDisplayElement().replaceChildren(dataContainer);\n  }\n\n  urlVariables() {\n    if (typeof this.query_string == \"undefined\") {\n      this.query_string = getQueryString();\n    }\n    return this.query_string;\n  }\n\n  getURLVariable(whichvar) {\n    return this.urlVariables()[whichvar];\n  }\n\n  private addInteractionRecord(event: InteractionEvent) {\n    const record: InteractionRecord = { event, ...this.dependencies.getProgress() };\n    this.interactionRecords.push(record);\n    this.dependencies.onInteractionRecordAdded(record);\n  }\n\n  private interactionListeners = {\n    blur: () => {\n      this.addInteractionRecord(\"blur\");\n    },\n    focus: () => {\n      this.addInteractionRecord(\"focus\");\n    },\n    fullscreenchange: () => {\n      this.addInteractionRecord(\n        // @ts-expect-error\n        document.isFullScreen ||\n          // @ts-expect-error\n          document.webkitIsFullScreen ||\n          // @ts-expect-error\n          document.mozIsFullScreen ||\n          document.fullscreenElement\n          ? \"fullscreenenter\"\n          : \"fullscreenexit\"\n      );\n    },\n  };\n\n  createInteractionListeners() {\n    window.addEventListener(\"blur\", this.interactionListeners.blur);\n    window.addEventListener(\"focus\", this.interactionListeners.focus);\n\n    document.addEventListener(\"fullscreenchange\", this.interactionListeners.fullscreenchange);\n    document.addEventListener(\"mozfullscreenchange\", this.interactionListeners.fullscreenchange);\n    document.addEventListener(\"webkitfullscreenchange\", this.interactionListeners.fullscreenchange);\n  }\n\n  removeInteractionListeners() {\n    window.removeEventListener(\"blur\", this.interactionListeners.blur);\n    window.removeEventListener(\"focus\", this.interactionListeners.focus);\n\n    document.removeEventListener(\"fullscreenchange\", this.interactionListeners.fullscreenchange);\n    document.removeEventListener(\"mozfullscreenchange\", this.interactionListeners.fullscreenchange);\n    document.removeEventListener(\n      \"webkitfullscreenchange\",\n      this.interactionListeners.fullscreenchange\n    );\n  }\n}\n","import autoBind from \"auto-bind\";\n\nexport type KeyboardListener = (e: KeyboardEvent) => void;\n\nexport type ValidResponses = string[] | \"ALL_KEYS\" | \"NO_KEYS\";\n\nexport interface GetKeyboardResponseOptions {\n  callback_function: any;\n  valid_responses?: ValidResponses;\n  rt_method?: \"performance\" | \"audio\";\n  persist?: boolean;\n  audio_context?: AudioContext;\n  audio_context_start_time?: number;\n  allow_held_key?: boolean;\n  minimum_valid_rt?: number;\n}\n\nexport class KeyboardListenerAPI {\n  constructor(\n    private getRootElement: () => Element | undefined,\n    private areResponsesCaseSensitive: boolean = false,\n    private minimumValidRt = 0\n  ) {\n    autoBind(this);\n    this.registerRootListeners();\n  }\n\n  private listeners = new Set<KeyboardListener>();\n  private heldKeys = new Set<string>();\n\n  private areRootListenersRegistered = false;\n\n  /**\n   * If not previously done and `this.getRootElement()` returns an element, adds the root key\n   * listeners to that element.\n   */\n  private registerRootListeners() {\n    if (!this.areRootListenersRegistered) {\n      const rootElement = this.getRootElement();\n      if (rootElement) {\n        rootElement.addEventListener(\"keydown\", this.rootKeydownListener);\n        rootElement.addEventListener(\"keyup\", this.rootKeyupListener);\n        this.areRootListenersRegistered = true;\n      }\n    }\n  }\n\n  private rootKeydownListener(e: KeyboardEvent) {\n    // Iterate over a static copy of the listeners set because listeners might add other listeners\n    // that we do not want to be included in the loop\n    for (const listener of Array.from(this.listeners)) {\n      listener(e);\n    }\n    this.heldKeys.add(this.toLowerCaseIfInsensitive(e.key));\n  }\n\n  private toLowerCaseIfInsensitive(string: string) {\n    return this.areResponsesCaseSensitive ? string : string.toLowerCase();\n  }\n\n  private rootKeyupListener(e: KeyboardEvent) {\n    this.heldKeys.delete(this.toLowerCaseIfInsensitive(e.key));\n  }\n\n  private isResponseValid(validResponses: ValidResponses, allowHeldKey: boolean, key: string) {\n    // check if key was already held down\n    if (!allowHeldKey && this.heldKeys.has(key)) {\n      return false;\n    }\n\n    if (validResponses === \"ALL_KEYS\") {\n      return true;\n    }\n    if (validResponses === \"NO_KEYS\") {\n      return false;\n    }\n\n    return validResponses.includes(key);\n  }\n\n  getKeyboardResponse({\n    callback_function,\n    valid_responses = \"ALL_KEYS\",\n    rt_method = \"performance\",\n    persist,\n    audio_context,\n    audio_context_start_time,\n    allow_held_key = false,\n    minimum_valid_rt = this.minimumValidRt,\n  }: GetKeyboardResponseOptions) {\n    if (rt_method !== \"performance\" && rt_method !== \"audio\") {\n      console.log(\n        'Invalid RT method specified in getKeyboardResponse. Defaulting to \"performance\" method.'\n      );\n      rt_method = \"performance\";\n    }\n\n    const usePerformanceRt = rt_method === \"performance\";\n    const startTime = usePerformanceRt ? performance.now() : audio_context_start_time * 1000;\n\n    this.registerRootListeners();\n\n    if (!this.areResponsesCaseSensitive && typeof valid_responses !== \"string\") {\n      valid_responses = valid_responses.map((r) => r.toLowerCase());\n    }\n\n    const listener: KeyboardListener = (e) => {\n      const rt = Math.round(\n        (rt_method == \"performance\" ? performance.now() : audio_context.currentTime * 1000) -\n          startTime\n      );\n      if (rt < minimum_valid_rt) {\n        return;\n      }\n\n      const key = this.toLowerCaseIfInsensitive(e.key);\n\n      if (this.isResponseValid(valid_responses, allow_held_key, key)) {\n        // if this is a valid response, then we don't want the key event to trigger other actions\n        // like scrolling via the spacebar.\n        e.preventDefault();\n\n        if (!persist) {\n          // remove keyboard listener if it exists\n          this.cancelKeyboardResponse(listener);\n        }\n\n        callback_function({ key: e.key, rt });\n      }\n    };\n\n    this.listeners.add(listener);\n    return listener;\n  }\n\n  cancelKeyboardResponse(listener: KeyboardListener) {\n    // remove the listener from the set of listeners if it is contained\n    this.listeners.delete(listener);\n  }\n\n  cancelAllKeyboardResponses() {\n    this.listeners.clear();\n  }\n\n  compareKeys(key1: string | null, key2: string | null) {\n    if (\n      (typeof key1 !== \"string\" && key1 !== null) ||\n      (typeof key2 !== \"string\" && key2 !== null)\n    ) {\n      console.error(\n        \"Error in jsPsych.pluginAPI.compareKeys: arguments must be key strings or null.\"\n      );\n      return undefined;\n    }\n\n    if (typeof key1 === \"string\" && typeof key2 === \"string\") {\n      // if both values are strings, then check whether or not letter case should be converted before comparing (case_sensitive_responses in initJsPsych)\n      return this.areResponsesCaseSensitive\n        ? key1 === key2\n        : key1.toLowerCase() === key2.toLowerCase();\n    }\n\n    return key1 === null && key2 === null;\n  }\n}\n","import { SetRequired } from \"type-fest\";\n\nimport { SimulationMode, SimulationOptions, TrialDescription, TrialResult } from \"../timeline\";\n\n/**\n * Parameter types for plugins\n */\nexport enum ParameterType {\n  BOOL,\n  STRING,\n  INT,\n  FLOAT,\n  FUNCTION,\n  KEY,\n  KEYS,\n  SELECT,\n  HTML_STRING,\n  IMAGE,\n  AUDIO,\n  VIDEO,\n  OBJECT,\n  COMPLEX,\n  TIMELINE,\n}\n\ntype ParameterTypeMap = {\n  [ParameterType.BOOL]: boolean;\n  [ParameterType.STRING]: string;\n  [ParameterType.INT]: number;\n  [ParameterType.FLOAT]: number;\n  [ParameterType.FUNCTION]: (...args: any[]) => any;\n  [ParameterType.KEY]: string;\n  [ParameterType.KEYS]: string[] | \"ALL_KEYS\" | \"NO_KEYS\";\n  [ParameterType.SELECT]: any;\n  [ParameterType.HTML_STRING]: string;\n  [ParameterType.IMAGE]: string;\n  [ParameterType.AUDIO]: string;\n  [ParameterType.VIDEO]: string;\n  [ParameterType.OBJECT]: object;\n  [ParameterType.COMPLEX]: any;\n  [ParameterType.TIMELINE]: any;\n};\n\ntype PreloadParameterType = ParameterType.AUDIO | ParameterType.VIDEO | ParameterType.IMAGE;\n\nexport type ParameterInfo = (\n  | { type: Exclude<ParameterType, ParameterType.COMPLEX | PreloadParameterType> }\n  | { type: ParameterType.COMPLEX; nested?: ParameterInfos }\n  | { type: PreloadParameterType; preload?: boolean }\n) & {\n  array?: boolean;\n  pretty_name?: string;\n  default?: any;\n};\n\nexport type ParameterInfos = Record<string, ParameterInfo>;\n\ntype InferredParameter<I extends ParameterInfo> = I[\"array\"] extends true\n  ? Array<ParameterTypeMap[I[\"type\"]]>\n  : ParameterTypeMap[I[\"type\"]];\n\ntype RequiredParameterNames<I extends ParameterInfos> = {\n  [K in keyof I]: I[K][\"default\"] extends undefined ? K : never;\n}[keyof I];\n\ntype InferredParameters<I extends ParameterInfos> = SetRequired<\n  {\n    [Property in keyof I]?: InferredParameter<I[Property]>;\n  },\n  RequiredParameterNames<I>\n>;\n\nexport const universalPluginParameters = <const>{\n  /**\n   * Data to add to this trial (key-value pairs)\n   */\n  data: {\n    type: ParameterType.OBJECT,\n    pretty_name: \"Data\",\n    default: {},\n  },\n  /**\n   * Function to execute when trial begins\n   */\n  on_start: {\n    type: ParameterType.FUNCTION,\n    pretty_name: \"On start\",\n    default: function () {\n      return;\n    },\n  },\n  /**\n   * Function to execute when trial is finished\n   */\n  on_finish: {\n    type: ParameterType.FUNCTION,\n    pretty_name: \"On finish\",\n    default: function () {\n      return;\n    },\n  },\n  /**\n   * Function to execute after the trial has loaded\n   */\n  on_load: {\n    type: ParameterType.FUNCTION,\n    pretty_name: \"On load\",\n    default: function () {\n      return;\n    },\n  },\n  /**\n   * Length of gap between the end of this trial and the start of the next trial\n   */\n  post_trial_gap: {\n    type: ParameterType.INT,\n    pretty_name: \"Post trial gap\",\n    default: 0,\n  },\n  /**\n   * A list of CSS classes to add to the jsPsych display element for the duration of this trial\n   */\n  css_classes: {\n    type: ParameterType.STRING,\n    pretty_name: \"Custom CSS classes\",\n    default: \"\",\n  },\n  /**\n   * Options to control simulation mode for the trial.\n   */\n  simulation_options: {\n    type: ParameterType.COMPLEX,\n    default: {},\n  },\n};\n\nexport type UniversalPluginParameters = InferredParameters<typeof universalPluginParameters>;\n\nexport interface PluginInfo {\n  name: string;\n  version?: string;\n  parameters: ParameterInfos;\n  data?: ParameterInfos;\n}\n\nexport interface JsPsychPlugin<I extends PluginInfo> {\n  trial(\n    display_element: HTMLElement,\n    trial: TrialType<I>,\n    on_load?: () => void\n  ): void | Promise<TrialResult | void>;\n\n  simulate?(\n    trial: TrialType<I>,\n    simulation_mode: SimulationMode,\n    simulation_options: SimulationOptions,\n    on_load?: () => void\n  ): void | Promise<TrialResult | void>;\n}\n\nexport type TrialType<I extends PluginInfo> = InferredParameters<I[\"parameters\"]> &\n  TrialDescription;\n\nexport type PluginParameters<I extends PluginInfo> = InferredParameters<I[\"parameters\"]>;\n","export interface AudioPlayerOptions {\n  useWebAudio: boolean;\n  audioContext?: AudioContext;\n}\n\nexport interface AudioPlayerInterface {\n  load(): Promise<void>;\n  play(): void;\n  stop(): void;\n  addEventListener(eventName: string, callback: EventListenerOrEventListenerObject): void;\n  removeEventListener(eventName: string, callback: EventListenerOrEventListenerObject): void;\n}\n\nexport class AudioPlayer implements AudioPlayerInterface {\n  private audio: HTMLAudioElement | AudioBufferSourceNode;\n  private webAudioBuffer: AudioBuffer;\n  private audioContext: AudioContext | null;\n  private useWebAudio: boolean;\n  private src: string;\n\n  constructor(src: string, options: AudioPlayerOptions = { useWebAudio: false }) {\n    this.src = src;\n    this.useWebAudio = options.useWebAudio;\n    this.audioContext = options.audioContext || null;\n  }\n\n  async load() {\n    if (this.useWebAudio) {\n      this.webAudioBuffer = await this.preloadWebAudio(this.src);\n    } else {\n      this.audio = await this.preloadHTMLAudio(this.src);\n    }\n  }\n\n  play() {\n    if (this.audio instanceof HTMLAudioElement) {\n      this.audio.play();\n    } else {\n      // If audio is not HTMLAudioElement, it must be a WebAudio API object, so create a source node.\n      if (!this.audio) this.audio = this.getAudioSourceNode(this.webAudioBuffer);\n      this.audio.start();\n    }\n  }\n\n  stop() {\n    if (this.audio instanceof HTMLAudioElement) {\n      this.audio.pause();\n      this.audio.currentTime = 0;\n    } else {\n      this.audio!.stop();\n      // Regenerate source node for audio since the previous one is stopped and unusable.\n      this.audio = this.getAudioSourceNode(this.webAudioBuffer);\n    }\n  }\n\n  addEventListener(eventName: string, callback: EventListenerOrEventListenerObject) {\n    // If WebAudio buffer exists but source node doesn't, create it.\n    if (!this.audio && this.webAudioBuffer)\n      this.audio = this.getAudioSourceNode(this.webAudioBuffer);\n    this.audio.addEventListener(eventName, callback);\n  }\n\n  removeEventListener(eventName: string, callback: EventListenerOrEventListenerObject) {\n    // If WebAudio buffer exists but source node doesn't, create it.\n    if (!this.audio && this.webAudioBuffer)\n      this.audio = this.getAudioSourceNode(this.webAudioBuffer);\n    this.audio.removeEventListener(eventName, callback);\n  }\n\n  private getAudioSourceNode(audioBuffer: AudioBuffer): AudioBufferSourceNode {\n    const source = this.audioContext!.createBufferSource();\n    source.buffer = audioBuffer;\n    source.connect(this.audioContext!.destination);\n    return source;\n  }\n\n  private async preloadWebAudio(src: string): Promise<AudioBuffer> {\n    const buffer = await fetch(src);\n    const arrayBuffer = await buffer.arrayBuffer();\n    const audioBuffer = await this.audioContext!.decodeAudioData(arrayBuffer);\n    const source = this.audioContext!.createBufferSource();\n    source.buffer = audioBuffer;\n    source.connect(this.audioContext!.destination);\n    return audioBuffer;\n  }\n\n  private async preloadHTMLAudio(src: string): Promise<HTMLAudioElement> {\n    return new Promise<HTMLAudioElement>((resolve, reject) => {\n      const audio = new Audio(src);\n      audio.addEventListener(\"canplaythrough\", () => {\n        resolve(audio);\n      });\n      audio.addEventListener(\"error\", (err) => {\n        reject(err);\n      });\n      audio.addEventListener(\"abort\", (err) => {\n        reject(err);\n      });\n    });\n  }\n}\n","import { ParameterType } from \"../../modules/plugins\";\nimport { unique } from \"../utils\";\nimport { AudioPlayer } from \"./AudioPlayer\";\n\nconst preloadParameterTypes = <const>[\n  ParameterType.AUDIO,\n  ParameterType.IMAGE,\n  ParameterType.VIDEO,\n];\ntype PreloadType = typeof preloadParameterTypes[number];\n\nexport class MediaAPI {\n  constructor(public useWebaudio: boolean) {\n    if (\n      this.useWebaudio &&\n      typeof window !== \"undefined\" &&\n      typeof window.AudioContext !== \"undefined\"\n    ) {\n      this.context = new AudioContext();\n    }\n  }\n\n  // video //\n  private video_buffers = {};\n  getVideoBuffer(videoID: string) {\n    if (videoID.startsWith(\"blob:\")) {\n      this.video_buffers[videoID] = videoID;\n    }\n    return this.video_buffers[videoID];\n  }\n\n  // audio //\n  private context: AudioContext = null;\n  private audio_buffers = [];\n\n  audioContext(): AudioContext {\n    if (this.context && this.context.state !== \"running\") {\n      this.context.resume();\n    }\n    return this.context;\n  }\n\n  async getAudioPlayer(audioID: string): Promise<AudioPlayer> {\n    if (this.audio_buffers[audioID] instanceof AudioPlayer) {\n      return this.audio_buffers[audioID];\n    } else {\n      this.audio_buffers[audioID] = new AudioPlayer(audioID, {\n        useWebAudio: this.useWebaudio,\n        audioContext: this.context,\n      });\n      await this.audio_buffers[audioID].load();\n      return this.audio_buffers[audioID];\n    }\n  }\n\n  // preloading stimuli //\n  private preload_requests = [];\n\n  private img_cache = {};\n\n  preloadAudio(\n    files,\n    callback_complete = () => {},\n    callback_load = (filepath: string) => {},\n    callback_error = (error) => {}\n  ) {\n    files = unique(files.flat());\n\n    let n_loaded = 0;\n\n    if (files.length == 0) {\n      callback_complete();\n      return;\n    }\n\n    for (const file of files) {\n      // check if file was already loaded\n      if (this.audio_buffers[file] instanceof AudioPlayer) {\n        n_loaded++;\n        callback_load(file);\n        if (n_loaded == files.length) {\n          callback_complete();\n        }\n      } else {\n        this.audio_buffers[file] = new AudioPlayer(file, {\n          useWebAudio: this.useWebaudio,\n          audioContext: this.context,\n        });\n        this.audio_buffers[file]\n          .load()\n          .then(() => {\n            n_loaded++;\n            callback_load(file);\n            if (n_loaded == files.length) {\n              callback_complete();\n            }\n          })\n          .catch((e) => {\n            callback_error(e);\n          });\n      }\n    }\n  }\n\n  preloadImages(\n    images,\n    callback_complete = () => {},\n    callback_load = (filepath) => {},\n    callback_error = (error_msg) => {}\n  ) {\n    // flatten the images array\n    images = unique(images.flat());\n\n    var n_loaded = 0;\n\n    if (images.length === 0) {\n      callback_complete();\n      return;\n    }\n\n    for (let i = 0; i < images.length; i++) {\n      const img = new Image();\n      const src = images[i];\n      img.onload = () => {\n        n_loaded++;\n        callback_load(src);\n        if (n_loaded === images.length) {\n          callback_complete();\n        }\n      };\n\n      img.onerror = (e) => {\n        callback_error({ source: src, error: e });\n      };\n\n      img.src = src;\n\n      this.img_cache[src] = img;\n      this.preload_requests.push(img);\n    }\n  }\n\n  preloadVideo(\n    videos,\n    callback_complete = () => {},\n    callback_load = (filepath) => {},\n    callback_error = (error_msg) => {}\n  ) {\n    // flatten the video array\n    videos = unique(videos.flat());\n\n    let n_loaded = 0;\n\n    if (videos.length === 0) {\n      callback_complete();\n      return;\n    }\n\n    for (const video of videos) {\n      const video_buffers = this.video_buffers;\n\n      //based on option 4 here: http://dinbror.dk/blog/how-to-preload-entire-html5-video-before-play-solved/\n      const request = new XMLHttpRequest();\n      request.open(\"GET\", video, true);\n      request.responseType = \"blob\";\n      request.onload = () => {\n        if (request.status === 200 || request.status === 0) {\n          const videoBlob = request.response;\n          video_buffers[video] = URL.createObjectURL(videoBlob); // IE10+\n          n_loaded++;\n          callback_load(video);\n          if (n_loaded === videos.length) {\n            callback_complete();\n          }\n        }\n      };\n      request.onerror = (e) => {\n        let err: ProgressEvent | string = e;\n        if (request.status == 404) {\n          err = \"404\";\n        }\n        callback_error({ source: video, error: err });\n      };\n      request.onloadend = (e) => {\n        if (request.status == 404) {\n          callback_error({ source: video, error: \"404\" });\n        }\n      };\n      request.send();\n      this.preload_requests.push(request);\n    }\n  }\n\n  private preloadMap = new Map<string, Record<string, PreloadType>>();\n\n  getAutoPreloadList(timeline_description: any[]) {\n    /** Map each preload parameter type to a set of paths to be preloaded */\n    const preloadPaths = Object.fromEntries(\n      preloadParameterTypes.map((type) => [type, new Set<string>()])\n    );\n\n    const traverseTimeline = (node, inheritedTrialType?) => {\n      const isTimeline = typeof node.timeline !== \"undefined\";\n\n      if (isTimeline) {\n        for (const childNode of node.timeline) {\n          traverseTimeline(childNode, node.type ?? inheritedTrialType);\n        }\n      } else if ((node.type ?? inheritedTrialType)?.info) {\n        // node is a trial with type.info set\n\n        // Get the plugin name and parameters object from the info object\n        const { name: pluginName, parameters } = (node.type ?? inheritedTrialType).info;\n\n        // Extract parameters to be preloaded and their types from parameter info if this has not\n        // yet been done for `pluginName`\n        if (!this.preloadMap.has(pluginName)) {\n          this.preloadMap.set(\n            pluginName,\n            Object.fromEntries(\n              Object.entries<any>(parameters)\n                // Filter out parameter entries with media types and a non-false `preload` option\n                .filter(\n                  ([_name, { type, preload }]) =>\n                    preloadParameterTypes.includes(type) && (preload ?? true)\n                )\n                // Map each entry's value to its parameter type\n                .map(([name, { type }]) => [name, type])\n            )\n          );\n        }\n\n        // Add preload paths from this trial\n        for (const [parameterName, parameterType] of Object.entries(\n          this.preloadMap.get(pluginName)\n        )) {\n          const parameterValue = node[parameterName];\n          const elements = preloadPaths[parameterType];\n\n          if (typeof parameterValue === \"string\") {\n            elements.add(parameterValue);\n          } else if (Array.isArray(parameterValue)) {\n            for (const element of parameterValue.flat()) {\n              if (typeof element === \"string\") {\n                elements.add(element);\n              }\n            }\n          }\n        }\n      }\n    };\n\n    traverseTimeline({ timeline: timeline_description });\n\n    return {\n      images: [...preloadPaths[ParameterType.IMAGE]],\n      audio: [...preloadPaths[ParameterType.AUDIO]],\n      video: [...preloadPaths[ParameterType.VIDEO]],\n    };\n  }\n\n  cancelPreloads() {\n    for (const request of this.preload_requests) {\n      request.onload = () => {};\n      request.onerror = () => {};\n      request.oncanplaythrough = () => {};\n      request.onabort = () => {};\n    }\n    this.preload_requests = [];\n  }\n\n  private microphone_recorder: MediaRecorder = null;\n\n  initializeMicrophoneRecorder(stream: MediaStream) {\n    const recorder = new MediaRecorder(stream);\n    this.microphone_recorder = recorder;\n  }\n\n  getMicrophoneRecorder(): MediaRecorder {\n    return this.microphone_recorder;\n  }\n\n  private camera_stream: MediaStream = null;\n  private camera_recorder: MediaRecorder = null;\n\n  initializeCameraRecorder(stream: MediaStream, opts?: MediaRecorderOptions) {\n    this.camera_stream = stream;\n    const recorder = new MediaRecorder(stream, opts);\n    this.camera_recorder = recorder;\n  }\n\n  getCameraStream(): MediaStream {\n    return this.camera_stream;\n  }\n\n  getCameraRecorder(): MediaRecorder {\n    return this.camera_recorder;\n  }\n}\n","export class SimulationAPI {\n  constructor(\n    private getDisplayContainerElement: () => HTMLElement,\n    private setJsPsychTimeout: (callback: () => void, delay: number) => number\n  ) {}\n\n  dispatchEvent(event: Event) {\n    this.getDisplayContainerElement().dispatchEvent(event);\n  }\n\n  /**\n   * Dispatches a `keydown` event for the specified key\n   * @param key Character code (`.key` property) for the key to press.\n   */\n  keyDown(key: string) {\n    this.dispatchEvent(new KeyboardEvent(\"keydown\", { key }));\n  }\n\n  /**\n   * Dispatches a `keyup` event for the specified key\n   * @param key Character code (`.key` property) for the key to press.\n   */\n  keyUp(key: string) {\n    this.dispatchEvent(new KeyboardEvent(\"keyup\", { key }));\n  }\n\n  /**\n   * Dispatches a `keydown` and `keyup` event in sequence to simulate pressing a key.\n   * @param key Character code (`.key` property) for the key to press.\n   * @param delay Length of time to wait (ms) before executing action\n   */\n  pressKey(key: string, delay = 0) {\n    if (delay > 0) {\n      this.setJsPsychTimeout(() => {\n        this.keyDown(key);\n        this.keyUp(key);\n      }, delay);\n    } else {\n      this.keyDown(key);\n      this.keyUp(key);\n    }\n  }\n\n  /**\n   * Dispatches `mousedown`, `mouseup`, and `click` events on the target element\n   * @param target The element to click\n   * @param delay Length of time to wait (ms) before executing action\n   */\n  clickTarget(target: Element, delay = 0) {\n    if (delay > 0) {\n      this.setJsPsychTimeout(() => {\n        target.dispatchEvent(new MouseEvent(\"mousedown\", { bubbles: true }));\n        target.dispatchEvent(new MouseEvent(\"mouseup\", { bubbles: true }));\n        target.dispatchEvent(new MouseEvent(\"click\", { bubbles: true }));\n      }, delay);\n    } else {\n      target.dispatchEvent(new MouseEvent(\"mousedown\", { bubbles: true }));\n      target.dispatchEvent(new MouseEvent(\"mouseup\", { bubbles: true }));\n      target.dispatchEvent(new MouseEvent(\"click\", { bubbles: true }));\n    }\n  }\n\n  /**\n   * Sets the value of a target text input\n   * @param target A text input element to fill in\n   * @param text Text to input\n   * @param delay Length of time to wait (ms) before executing action\n   */\n  fillTextInput(target: HTMLInputElement, text: string, delay = 0) {\n    if (delay > 0) {\n      this.setJsPsychTimeout(() => {\n        target.value = text;\n      }, delay);\n    } else {\n      target.value = text;\n    }\n  }\n\n  /**\n   * Picks a valid key from `choices`, taking into account jsPsych-specific\n   * identifiers like \"NO_KEYS\" and \"ALL_KEYS\".\n   * @param choices Which keys are valid.\n   * @returns A key selected at random from the valid keys.\n   */\n  getValidKey(choices: \"NO_KEYS\" | \"ALL_KEYS\" | Array<string> | Array<Array<string>>) {\n    const possible_keys = [\n      \"a\",\n      \"b\",\n      \"c\",\n      \"d\",\n      \"e\",\n      \"f\",\n      \"g\",\n      \"h\",\n      \"i\",\n      \"j\",\n      \"k\",\n      \"l\",\n      \"m\",\n      \"n\",\n      \"o\",\n      \"p\",\n      \"q\",\n      \"r\",\n      \"s\",\n      \"t\",\n      \"u\",\n      \"v\",\n      \"w\",\n      \"x\",\n      \"y\",\n      \"z\",\n      \"0\",\n      \"1\",\n      \"2\",\n      \"3\",\n      \"4\",\n      \"5\",\n      \"6\",\n      \"7\",\n      \"8\",\n      \"9\",\n      \" \",\n    ];\n\n    let key;\n    if (choices == \"NO_KEYS\") {\n      key = null;\n    } else if (choices == \"ALL_KEYS\") {\n      key = possible_keys[Math.floor(Math.random() * possible_keys.length)];\n    } else {\n      const flat_choices = choices.flat();\n      key = flat_choices[Math.floor(Math.random() * flat_choices.length)];\n    }\n\n    return key;\n  }\n\n  mergeSimulationData(default_data, simulation_options) {\n    // override any data with data from simulation object\n    return {\n      ...default_data,\n      ...simulation_options?.data,\n    };\n  }\n\n  ensureSimulationDataConsistency(trial, data) {\n    // All RTs must be rounded\n    if (data.rt) {\n      data.rt = Math.round(data.rt);\n    }\n\n    // If a trial_duration and rt exist, make sure that the RT is not longer than the trial.\n    if (trial.trial_duration && data.rt && data.rt > trial.trial_duration) {\n      data.rt = null;\n      if (data.response) {\n        data.response = null;\n      }\n      if (data.correct) {\n        data.correct = false;\n      }\n    }\n\n    // If trial.choices is NO_KEYS make sure that response and RT are null\n    if (trial.choices && trial.choices == \"NO_KEYS\") {\n      if (data.rt) {\n        data.rt = null;\n      }\n      if (data.response) {\n        data.response = null;\n      }\n    }\n\n    // If response is not allowed before stimulus display complete, ensure RT\n    // is longer than display time.\n    if (trial.allow_response_before_complete) {\n      if (trial.sequence_reps && trial.frame_time) {\n        const min_time = trial.sequence_reps * trial.frame_time * trial.stimuli.length;\n        if (data.rt < min_time) {\n          data.rt = null;\n          data.response = null;\n        }\n      }\n    }\n  }\n}\n","/**\n * A class that provides a wrapper around the global setTimeout and clearTimeout functions.\n */\nexport class TimeoutAPI {\n  private timeout_handlers: number[] = [];\n\n  /**\n   * Calls a function after a specified delay, in milliseconds.\n   * @param callback The function to call after the delay.\n   * @param delay The number of milliseconds to wait before calling the function.\n   * @returns A handle that can be used to clear the timeout with clearTimeout.\n   */\n  setTimeout(callback: () => void, delay: number): number {\n    const handle = window.setTimeout(callback, delay);\n    this.timeout_handlers.push(handle);\n    return handle;\n  }\n\n  /**\n   * Clears all timeouts that have been created with setTimeout.\n   */\n  clearAllTimeouts(): void {\n    for (const handler of this.timeout_handlers) {\n      clearTimeout(handler);\n    }\n    this.timeout_handlers = [];\n  }\n}\n","import autoBind from \"auto-bind\";\n\nimport { JsPsych } from \"../../JsPsych\";\nimport { KeyboardListenerAPI } from \"./KeyboardListenerAPI\";\nimport { MediaAPI } from \"./MediaAPI\";\nimport { SimulationAPI } from \"./SimulationAPI\";\nimport { TimeoutAPI } from \"./TimeoutAPI\";\n\nexport function createJointPluginAPIObject(jsPsych: JsPsych) {\n  const settings = jsPsych.getInitSettings();\n  const keyboardListenerAPI = new KeyboardListenerAPI(\n    jsPsych.getDisplayContainerElement,\n    settings.case_sensitive_responses,\n    settings.minimum_valid_rt\n  );\n  const timeoutAPI = new TimeoutAPI();\n  const mediaAPI = new MediaAPI(settings.use_webaudio);\n  const simulationAPI = new SimulationAPI(\n    jsPsych.getDisplayContainerElement,\n    timeoutAPI.setTimeout.bind(timeoutAPI)\n  );\n  return Object.assign(\n    {},\n    ...[keyboardListenerAPI, timeoutAPI, mediaAPI, simulationAPI].map((object) => autoBind(object))\n  ) as KeyboardListenerAPI & TimeoutAPI & MediaAPI & SimulationAPI;\n}\n\nexport type PluginAPI = ReturnType<typeof createJointPluginAPIObject>;\n","var wordList = [\n  // Borrowed from xkcd password generator which borrowed it from wherever\n  \"ability\",\"able\",\"aboard\",\"about\",\"above\",\"accept\",\"accident\",\"according\",\n  \"account\",\"accurate\",\"acres\",\"across\",\"act\",\"action\",\"active\",\"activity\",\n  \"actual\",\"actually\",\"add\",\"addition\",\"additional\",\"adjective\",\"adult\",\"adventure\",\n  \"advice\",\"affect\",\"afraid\",\"after\",\"afternoon\",\"again\",\"against\",\"age\",\n  \"ago\",\"agree\",\"ahead\",\"aid\",\"air\",\"airplane\",\"alike\",\"alive\",\n  \"all\",\"allow\",\"almost\",\"alone\",\"along\",\"aloud\",\"alphabet\",\"already\",\n  \"also\",\"although\",\"am\",\"among\",\"amount\",\"ancient\",\"angle\",\"angry\",\n  \"animal\",\"announced\",\"another\",\"answer\",\"ants\",\"any\",\"anybody\",\"anyone\",\n  \"anything\",\"anyway\",\"anywhere\",\"apart\",\"apartment\",\"appearance\",\"apple\",\"applied\",\n  \"appropriate\",\"are\",\"area\",\"arm\",\"army\",\"around\",\"arrange\",\"arrangement\",\n  \"arrive\",\"arrow\",\"art\",\"article\",\"as\",\"aside\",\"ask\",\"asleep\",\n  \"at\",\"ate\",\"atmosphere\",\"atom\",\"atomic\",\"attached\",\"attack\",\"attempt\",\n  \"attention\",\"audience\",\"author\",\"automobile\",\"available\",\"average\",\"avoid\",\"aware\",\n  \"away\",\"baby\",\"back\",\"bad\",\"badly\",\"bag\",\"balance\",\"ball\",\n  \"balloon\",\"band\",\"bank\",\"bar\",\"bare\",\"bark\",\"barn\",\"base\",\n  \"baseball\",\"basic\",\"basis\",\"basket\",\"bat\",\"battle\",\"be\",\"bean\",\n  \"bear\",\"beat\",\"beautiful\",\"beauty\",\"became\",\"because\",\"become\",\"becoming\",\n  \"bee\",\"been\",\"before\",\"began\",\"beginning\",\"begun\",\"behavior\",\"behind\",\n  \"being\",\"believed\",\"bell\",\"belong\",\"below\",\"belt\",\"bend\",\"beneath\",\n  \"bent\",\"beside\",\"best\",\"bet\",\"better\",\"between\",\"beyond\",\"bicycle\",\n  \"bigger\",\"biggest\",\"bill\",\"birds\",\"birth\",\"birthday\",\"bit\",\"bite\",\n  \"black\",\"blank\",\"blanket\",\"blew\",\"blind\",\"block\",\"blood\",\"blow\",\n  \"blue\",\"board\",\"boat\",\"body\",\"bone\",\"book\",\"border\",\"born\",\n  \"both\",\"bottle\",\"bottom\",\"bound\",\"bow\",\"bowl\",\"box\",\"boy\",\n  \"brain\",\"branch\",\"brass\",\"brave\",\"bread\",\"break\",\"breakfast\",\"breath\",\n  \"breathe\",\"breathing\",\"breeze\",\"brick\",\"bridge\",\"brief\",\"bright\",\"bring\",\n  \"broad\",\"broke\",\"broken\",\"brother\",\"brought\",\"brown\",\"brush\",\"buffalo\",\n  \"build\",\"building\",\"built\",\"buried\",\"burn\",\"burst\",\"bus\",\"bush\",\n  \"business\",\"busy\",\"but\",\"butter\",\"buy\",\"by\",\"cabin\",\"cage\",\n  \"cake\",\"call\",\"calm\",\"came\",\"camera\",\"camp\",\"can\",\"canal\",\n  \"cannot\",\"cap\",\"capital\",\"captain\",\"captured\",\"car\",\"carbon\",\"card\",\n  \"care\",\"careful\",\"carefully\",\"carried\",\"carry\",\"case\",\"cast\",\"castle\",\n  \"cat\",\"catch\",\"cattle\",\"caught\",\"cause\",\"cave\",\"cell\",\"cent\",\n  \"center\",\"central\",\"century\",\"certain\",\"certainly\",\"chain\",\"chair\",\"chamber\",\n  \"chance\",\"change\",\"changing\",\"chapter\",\"character\",\"characteristic\",\"charge\",\"chart\",\n  \"check\",\"cheese\",\"chemical\",\"chest\",\"chicken\",\"chief\",\"child\",\"children\",\n  \"choice\",\"choose\",\"chose\",\"chosen\",\"church\",\"circle\",\"circus\",\"citizen\",\n  \"city\",\"class\",\"classroom\",\"claws\",\"clay\",\"clean\",\"clear\",\"clearly\",\n  \"climate\",\"climb\",\"clock\",\"close\",\"closely\",\"closer\",\"cloth\",\"clothes\",\n  \"clothing\",\"cloud\",\"club\",\"coach\",\"coal\",\"coast\",\"coat\",\"coffee\",\n  \"cold\",\"collect\",\"college\",\"colony\",\"color\",\"column\",\"combination\",\"combine\",\n  \"come\",\"comfortable\",\"coming\",\"command\",\"common\",\"community\",\"company\",\"compare\",\n  \"compass\",\"complete\",\"completely\",\"complex\",\"composed\",\"composition\",\"compound\",\"concerned\",\n  \"condition\",\"congress\",\"connected\",\"consider\",\"consist\",\"consonant\",\"constantly\",\"construction\",\n  \"contain\",\"continent\",\"continued\",\"contrast\",\"control\",\"conversation\",\"cook\",\"cookies\",\n  \"cool\",\"copper\",\"copy\",\"corn\",\"corner\",\"correct\",\"correctly\",\"cost\",\n  \"cotton\",\"could\",\"count\",\"country\",\"couple\",\"courage\",\"course\",\"court\",\n  \"cover\",\"cow\",\"cowboy\",\"crack\",\"cream\",\"create\",\"creature\",\"crew\",\n  \"crop\",\"cross\",\"crowd\",\"cry\",\"cup\",\"curious\",\"current\",\"curve\",\n  \"customs\",\"cut\",\"cutting\",\"daily\",\"damage\",\"dance\",\"danger\",\"dangerous\",\n  \"dark\",\"darkness\",\"date\",\"daughter\",\"dawn\",\"day\",\"dead\",\"deal\",\n  \"dear\",\"death\",\"decide\",\"declared\",\"deep\",\"deeply\",\"deer\",\"definition\",\n  \"degree\",\"depend\",\"depth\",\"describe\",\"desert\",\"design\",\"desk\",\"detail\",\n  \"determine\",\"develop\",\"development\",\"diagram\",\"diameter\",\"did\",\"die\",\"differ\",\n  \"difference\",\"different\",\"difficult\",\"difficulty\",\"dig\",\"dinner\",\"direct\",\"direction\",\n  \"directly\",\"dirt\",\"dirty\",\"disappear\",\"discover\",\"discovery\",\"discuss\",\"discussion\",\n  \"disease\",\"dish\",\"distance\",\"distant\",\"divide\",\"division\",\"do\",\"doctor\",\n  \"does\",\"dog\",\"doing\",\"doll\",\"dollar\",\"done\",\"donkey\",\"door\",\n  \"dot\",\"double\",\"doubt\",\"down\",\"dozen\",\"draw\",\"drawn\",\"dream\",\n  \"dress\",\"drew\",\"dried\",\"drink\",\"drive\",\"driven\",\"driver\",\"driving\",\n  \"drop\",\"dropped\",\"drove\",\"dry\",\"duck\",\"due\",\"dug\",\"dull\",\n  \"during\",\"dust\",\"duty\",\"each\",\"eager\",\"ear\",\"earlier\",\"early\",\n  \"earn\",\"earth\",\"easier\",\"easily\",\"east\",\"easy\",\"eat\",\"eaten\",\n  \"edge\",\"education\",\"effect\",\"effort\",\"egg\",\"eight\",\"either\",\"electric\",\n  \"electricity\",\"element\",\"elephant\",\"eleven\",\"else\",\"empty\",\"end\",\"enemy\",\n  \"energy\",\"engine\",\"engineer\",\"enjoy\",\"enough\",\"enter\",\"entire\",\"entirely\",\n  \"environment\",\"equal\",\"equally\",\"equator\",\"equipment\",\"escape\",\"especially\",\"essential\",\n  \"establish\",\"even\",\"evening\",\"event\",\"eventually\",\"ever\",\"every\",\"everybody\",\n  \"everyone\",\"everything\",\"everywhere\",\"evidence\",\"exact\",\"exactly\",\"examine\",\"example\",\n  \"excellent\",\"except\",\"exchange\",\"excited\",\"excitement\",\"exciting\",\"exclaimed\",\"exercise\",\n  \"exist\",\"expect\",\"experience\",\"experiment\",\"explain\",\"explanation\",\"explore\",\"express\",\n  \"expression\",\"extra\",\"eye\",\"face\",\"facing\",\"fact\",\"factor\",\"factory\",\n  \"failed\",\"fair\",\"fairly\",\"fall\",\"fallen\",\"familiar\",\"family\",\"famous\",\n  \"far\",\"farm\",\"farmer\",\"farther\",\"fast\",\"fastened\",\"faster\",\"fat\",\n  \"father\",\"favorite\",\"fear\",\"feathers\",\"feature\",\"fed\",\"feed\",\"feel\",\n  \"feet\",\"fell\",\"fellow\",\"felt\",\"fence\",\"few\",\"fewer\",\"field\",\n  \"fierce\",\"fifteen\",\"fifth\",\"fifty\",\"fight\",\"fighting\",\"figure\",\"fill\",\n  \"film\",\"final\",\"finally\",\"find\",\"fine\",\"finest\",\"finger\",\"finish\",\n  \"fire\",\"fireplace\",\"firm\",\"first\",\"fish\",\"five\",\"fix\",\"flag\",\n  \"flame\",\"flat\",\"flew\",\"flies\",\"flight\",\"floating\",\"floor\",\"flow\",\n  \"flower\",\"fly\",\"fog\",\"folks\",\"follow\",\"food\",\"foot\",\"football\",\n  \"for\",\"force\",\"foreign\",\"forest\",\"forget\",\"forgot\",\"forgotten\",\"form\",\n  \"former\",\"fort\",\"forth\",\"forty\",\"forward\",\"fought\",\"found\",\"four\",\n  \"fourth\",\"fox\",\"frame\",\"free\",\"freedom\",\"frequently\",\"fresh\",\"friend\",\n  \"friendly\",\"frighten\",\"frog\",\"from\",\"front\",\"frozen\",\"fruit\",\"fuel\",\n  \"full\",\"fully\",\"fun\",\"function\",\"funny\",\"fur\",\"furniture\",\"further\",\n  \"future\",\"gain\",\"game\",\"garage\",\"garden\",\"gas\",\"gasoline\",\"gate\",\n  \"gather\",\"gave\",\"general\",\"generally\",\"gentle\",\"gently\",\"get\",\"getting\",\n  \"giant\",\"gift\",\"girl\",\"give\",\"given\",\"giving\",\"glad\",\"glass\",\n  \"globe\",\"go\",\"goes\",\"gold\",\"golden\",\"gone\",\"good\",\"goose\",\n  \"got\",\"government\",\"grabbed\",\"grade\",\"gradually\",\"grain\",\"grandfather\",\"grandmother\",\n  \"graph\",\"grass\",\"gravity\",\"gray\",\"great\",\"greater\",\"greatest\",\"greatly\",\n  \"green\",\"grew\",\"ground\",\"group\",\"grow\",\"grown\",\"growth\",\"guard\",\n  \"guess\",\"guide\",\"gulf\",\"gun\",\"habit\",\"had\",\"hair\",\"half\",\n  \"halfway\",\"hall\",\"hand\",\"handle\",\"handsome\",\"hang\",\"happen\",\"happened\",\n  \"happily\",\"happy\",\"harbor\",\"hard\",\"harder\",\"hardly\",\"has\",\"hat\",\n  \"have\",\"having\",\"hay\",\"he\",\"headed\",\"heading\",\"health\",\"heard\",\n  \"hearing\",\"heart\",\"heat\",\"heavy\",\"height\",\"held\",\"hello\",\"help\",\n  \"helpful\",\"her\",\"herd\",\"here\",\"herself\",\"hidden\",\"hide\",\"high\",\n  \"higher\",\"highest\",\"highway\",\"hill\",\"him\",\"himself\",\"his\",\"history\",\n  \"hit\",\"hold\",\"hole\",\"hollow\",\"home\",\"honor\",\"hope\",\"horn\",\n  \"horse\",\"hospital\",\"hot\",\"hour\",\"house\",\"how\",\"however\",\"huge\",\n  \"human\",\"hundred\",\"hung\",\"hungry\",\"hunt\",\"hunter\",\"hurried\",\"hurry\",\n  \"hurt\",\"husband\",\"ice\",\"idea\",\"identity\",\"if\",\"ill\",\"image\",\n  \"imagine\",\"immediately\",\"importance\",\"important\",\"impossible\",\"improve\",\"in\",\"inch\",\n  \"include\",\"including\",\"income\",\"increase\",\"indeed\",\"independent\",\"indicate\",\"individual\",\n  \"industrial\",\"industry\",\"influence\",\"information\",\"inside\",\"instance\",\"instant\",\"instead\",\n  \"instrument\",\"interest\",\"interior\",\"into\",\"introduced\",\"invented\",\"involved\",\"iron\",\n  \"is\",\"island\",\"it\",\"its\",\"itself\",\"jack\",\"jar\",\"jet\",\n  \"job\",\"join\",\"joined\",\"journey\",\"joy\",\"judge\",\"jump\",\"jungle\",\n  \"just\",\"keep\",\"kept\",\"key\",\"kids\",\"kill\",\"kind\",\"kitchen\",\n  \"knew\",\"knife\",\"know\",\"knowledge\",\"known\",\"label\",\"labor\",\"lack\",\n  \"lady\",\"laid\",\"lake\",\"lamp\",\"land\",\"language\",\"large\",\"larger\",\n  \"largest\",\"last\",\"late\",\"later\",\"laugh\",\"law\",\"lay\",\"layers\",\n  \"lead\",\"leader\",\"leaf\",\"learn\",\"least\",\"leather\",\"leave\",\"leaving\",\n  \"led\",\"left\",\"leg\",\"length\",\"lesson\",\"let\",\"letter\",\"level\",\n  \"library\",\"lie\",\"life\",\"lift\",\"light\",\"like\",\"likely\",\"limited\",\n  \"line\",\"lion\",\"lips\",\"liquid\",\"list\",\"listen\",\"little\",\"live\",\n  \"living\",\"load\",\"local\",\"locate\",\"location\",\"log\",\"lonely\",\"long\",\n  \"longer\",\"look\",\"loose\",\"lose\",\"loss\",\"lost\",\"lot\",\"loud\",\n  \"love\",\"lovely\",\"low\",\"lower\",\"luck\",\"lucky\",\"lunch\",\"lungs\",\n  \"lying\",\"machine\",\"machinery\",\"mad\",\"made\",\"magic\",\"magnet\",\"mail\",\n  \"main\",\"mainly\",\"major\",\"make\",\"making\",\"man\",\"managed\",\"manner\",\n  \"manufacturing\",\"many\",\"map\",\"mark\",\"market\",\"married\",\"mass\",\"massage\",\n  \"master\",\"material\",\"mathematics\",\"matter\",\"may\",\"maybe\",\"me\",\"meal\",\n  \"mean\",\"means\",\"meant\",\"measure\",\"meat\",\"medicine\",\"meet\",\"melted\",\n  \"member\",\"memory\",\"men\",\"mental\",\"merely\",\"met\",\"metal\",\"method\",\n  \"mice\",\"middle\",\"might\",\"mighty\",\"mile\",\"military\",\"milk\",\"mill\",\n  \"mind\",\"mine\",\"minerals\",\"minute\",\"mirror\",\"missing\",\"mission\",\"mistake\",\n  \"mix\",\"mixture\",\"model\",\"modern\",\"molecular\",\"moment\",\"money\",\"monkey\",\n  \"month\",\"mood\",\"moon\",\"more\",\"morning\",\"most\",\"mostly\",\"mother\",\n  \"motion\",\"motor\",\"mountain\",\"mouse\",\"mouth\",\"move\",\"movement\",\"movie\",\n  \"moving\",\"mud\",\"muscle\",\"music\",\"musical\",\"must\",\"my\",\"myself\",\n  \"mysterious\",\"nails\",\"name\",\"nation\",\"national\",\"native\",\"natural\",\"naturally\",\n  \"nature\",\"near\",\"nearby\",\"nearer\",\"nearest\",\"nearly\",\"necessary\",\"neck\",\n  \"needed\",\"needle\",\"needs\",\"negative\",\"neighbor\",\"neighborhood\",\"nervous\",\"nest\",\n  \"never\",\"new\",\"news\",\"newspaper\",\"next\",\"nice\",\"night\",\"nine\",\n  \"no\",\"nobody\",\"nodded\",\"noise\",\"none\",\"noon\",\"nor\",\"north\",\n  \"nose\",\"not\",\"note\",\"noted\",\"nothing\",\"notice\",\"noun\",\"now\",\n  \"number\",\"numeral\",\"nuts\",\"object\",\"observe\",\"obtain\",\"occasionally\",\"occur\",\n  \"ocean\",\"of\",\"off\",\"offer\",\"office\",\"officer\",\"official\",\"oil\",\n  \"old\",\"older\",\"oldest\",\"on\",\"once\",\"one\",\"only\",\"onto\",\n  \"open\",\"operation\",\"opinion\",\"opportunity\",\"opposite\",\"or\",\"orange\",\"orbit\",\n  \"order\",\"ordinary\",\"organization\",\"organized\",\"origin\",\"original\",\"other\",\"ought\",\n  \"our\",\"ourselves\",\"out\",\"outer\",\"outline\",\"outside\",\"over\",\"own\",\n  \"owner\",\"oxygen\",\"pack\",\"package\",\"page\",\"paid\",\"pain\",\"paint\",\n  \"pair\",\"palace\",\"pale\",\"pan\",\"paper\",\"paragraph\",\"parallel\",\"parent\",\n  \"park\",\"part\",\"particles\",\"particular\",\"particularly\",\"partly\",\"parts\",\"party\",\n  \"pass\",\"passage\",\"past\",\"path\",\"pattern\",\"pay\",\"peace\",\"pen\",\n  \"pencil\",\"people\",\"per\",\"percent\",\"perfect\",\"perfectly\",\"perhaps\",\"period\",\n  \"person\",\"personal\",\"pet\",\"phrase\",\"physical\",\"piano\",\"pick\",\"picture\",\n  \"pictured\",\"pie\",\"piece\",\"pig\",\"pile\",\"pilot\",\"pine\",\"pink\",\n  \"pipe\",\"pitch\",\"place\",\"plain\",\"plan\",\"plane\",\"planet\",\"planned\",\n  \"planning\",\"plant\",\"plastic\",\"plate\",\"plates\",\"play\",\"pleasant\",\"please\",\n  \"pleasure\",\"plenty\",\"plural\",\"plus\",\"pocket\",\"poem\",\"poet\",\"poetry\",\n  \"point\",\"pole\",\"police\",\"policeman\",\"political\",\"pond\",\"pony\",\"pool\",\n  \"poor\",\"popular\",\"population\",\"porch\",\"port\",\"position\",\"positive\",\"possible\",\n  \"possibly\",\"post\",\"pot\",\"potatoes\",\"pound\",\"pour\",\"powder\",\"power\",\n  \"powerful\",\"practical\",\"practice\",\"prepare\",\"present\",\"president\",\"press\",\"pressure\",\n  \"pretty\",\"prevent\",\"previous\",\"price\",\"pride\",\"primitive\",\"principal\",\"principle\",\n  \"printed\",\"private\",\"prize\",\"probably\",\"problem\",\"process\",\"produce\",\"product\",\n  \"production\",\"program\",\"progress\",\"promised\",\"proper\",\"properly\",\"property\",\"protection\",\n  \"proud\",\"prove\",\"provide\",\"public\",\"pull\",\"pupil\",\"pure\",\"purple\",\n  \"purpose\",\"push\",\"put\",\"putting\",\"quarter\",\"queen\",\"question\",\"quick\",\n  \"quickly\",\"quiet\",\"quietly\",\"quite\",\"rabbit\",\"race\",\"radio\",\"railroad\",\n  \"rain\",\"raise\",\"ran\",\"ranch\",\"range\",\"rapidly\",\"rate\",\"rather\",\n  \"raw\",\"rays\",\"reach\",\"read\",\"reader\",\"ready\",\"real\",\"realize\",\n  \"rear\",\"reason\",\"recall\",\"receive\",\"recent\",\"recently\",\"recognize\",\"record\",\n  \"red\",\"refer\",\"refused\",\"region\",\"regular\",\"related\",\"relationship\",\"religious\",\n  \"remain\",\"remarkable\",\"remember\",\"remove\",\"repeat\",\"replace\",\"replied\",\"report\",\n  \"represent\",\"require\",\"research\",\"respect\",\"rest\",\"result\",\"return\",\"review\",\n  \"rhyme\",\"rhythm\",\"rice\",\"rich\",\"ride\",\"riding\",\"right\",\"ring\",\n  \"rise\",\"rising\",\"river\",\"road\",\"roar\",\"rock\",\"rocket\",\"rocky\",\n  \"rod\",\"roll\",\"roof\",\"room\",\"root\",\"rope\",\"rose\",\"rough\",\n  \"round\",\"route\",\"row\",\"rubbed\",\"rubber\",\"rule\",\"ruler\",\"run\",\n  \"running\",\"rush\",\"sad\",\"saddle\",\"safe\",\"safety\",\"said\",\"sail\",\n  \"sale\",\"salmon\",\"salt\",\"same\",\"sand\",\"sang\",\"sat\",\"satellites\",\n  \"satisfied\",\"save\",\"saved\",\"saw\",\"say\",\"scale\",\"scared\",\"scene\",\n  \"school\",\"science\",\"scientific\",\"scientist\",\"score\",\"screen\",\"sea\",\"search\",\n  \"season\",\"seat\",\"second\",\"secret\",\"section\",\"see\",\"seed\",\"seeing\",\n  \"seems\",\"seen\",\"seldom\",\"select\",\"selection\",\"sell\",\"send\",\"sense\",\n  \"sent\",\"sentence\",\"separate\",\"series\",\"serious\",\"serve\",\"service\",\"sets\",\n  \"setting\",\"settle\",\"settlers\",\"seven\",\"several\",\"shade\",\"shadow\",\"shake\",\n  \"shaking\",\"shall\",\"shallow\",\"shape\",\"share\",\"sharp\",\"she\",\"sheep\",\n  \"sheet\",\"shelf\",\"shells\",\"shelter\",\"shine\",\"shinning\",\"ship\",\"shirt\",\n  \"shoe\",\"shoot\",\"shop\",\"shore\",\"short\",\"shorter\",\"shot\",\"should\",\n  \"shoulder\",\"shout\",\"show\",\"shown\",\"shut\",\"sick\",\"sides\",\"sight\",\n  \"sign\",\"signal\",\"silence\",\"silent\",\"silk\",\"silly\",\"silver\",\"similar\",\n  \"simple\",\"simplest\",\"simply\",\"since\",\"sing\",\"single\",\"sink\",\"sister\",\n  \"sit\",\"sitting\",\"situation\",\"six\",\"size\",\"skill\",\"skin\",\"sky\",\n  \"slabs\",\"slave\",\"sleep\",\"slept\",\"slide\",\"slight\",\"slightly\",\"slip\",\n  \"slipped\",\"slope\",\"slow\",\"slowly\",\"small\",\"smaller\",\"smallest\",\"smell\",\n  \"smile\",\"smoke\",\"smooth\",\"snake\",\"snow\",\"so\",\"soap\",\"social\",\n  \"society\",\"soft\",\"softly\",\"soil\",\"solar\",\"sold\",\"soldier\",\"solid\",\n  \"solution\",\"solve\",\"some\",\"somebody\",\"somehow\",\"someone\",\"something\",\"sometime\",\n  \"somewhere\",\"son\",\"song\",\"soon\",\"sort\",\"sound\",\"source\",\"south\",\n  \"southern\",\"space\",\"speak\",\"special\",\"species\",\"specific\",\"speech\",\"speed\",\n  \"spell\",\"spend\",\"spent\",\"spider\",\"spin\",\"spirit\",\"spite\",\"split\",\n  \"spoken\",\"sport\",\"spread\",\"spring\",\"square\",\"stage\",\"stairs\",\"stand\",\n  \"standard\",\"star\",\"stared\",\"start\",\"state\",\"statement\",\"station\",\"stay\",\n  \"steady\",\"steam\",\"steel\",\"steep\",\"stems\",\"step\",\"stepped\",\"stick\",\n  \"stiff\",\"still\",\"stock\",\"stomach\",\"stone\",\"stood\",\"stop\",\"stopped\",\n  \"store\",\"storm\",\"story\",\"stove\",\"straight\",\"strange\",\"stranger\",\"straw\",\n  \"stream\",\"street\",\"strength\",\"stretch\",\"strike\",\"string\",\"strip\",\"strong\",\n  \"stronger\",\"struck\",\"structure\",\"struggle\",\"stuck\",\"student\",\"studied\",\"studying\",\n  \"subject\",\"substance\",\"success\",\"successful\",\"such\",\"sudden\",\"suddenly\",\"sugar\",\n  \"suggest\",\"suit\",\"sum\",\"summer\",\"sun\",\"sunlight\",\"supper\",\"supply\",\n  \"support\",\"suppose\",\"sure\",\"surface\",\"surprise\",\"surrounded\",\"swam\",\"sweet\",\n  \"swept\",\"swim\",\"swimming\",\"swing\",\"swung\",\"syllable\",\"symbol\",\"system\",\n  \"table\",\"tail\",\"take\",\"taken\",\"tales\",\"talk\",\"tall\",\"tank\",\n  \"tape\",\"task\",\"taste\",\"taught\",\"tax\",\"tea\",\"teach\",\"teacher\",\n  \"team\",\"tears\",\"teeth\",\"telephone\",\"television\",\"tell\",\"temperature\",\"ten\",\n  \"tent\",\"term\",\"terrible\",\"test\",\"than\",\"thank\",\"that\",\"thee\",\n  \"them\",\"themselves\",\"then\",\"theory\",\"there\",\"therefore\",\"these\",\"they\",\n  \"thick\",\"thin\",\"thing\",\"think\",\"third\",\"thirty\",\"this\",\"those\",\n  \"thou\",\"though\",\"thought\",\"thousand\",\"thread\",\"three\",\"threw\",\"throat\",\n  \"through\",\"throughout\",\"throw\",\"thrown\",\"thumb\",\"thus\",\"thy\",\"tide\",\n  \"tie\",\"tight\",\"tightly\",\"till\",\"time\",\"tin\",\"tiny\",\"tip\",\n  \"tired\",\"title\",\"to\",\"tobacco\",\"today\",\"together\",\"told\",\"tomorrow\",\n  \"tone\",\"tongue\",\"tonight\",\"too\",\"took\",\"tool\",\"top\",\"topic\",\n  \"torn\",\"total\",\"touch\",\"toward\",\"tower\",\"town\",\"toy\",\"trace\",\n  \"track\",\"trade\",\"traffic\",\"trail\",\"train\",\"transportation\",\"trap\",\"travel\",\n  \"treated\",\"tree\",\"triangle\",\"tribe\",\"trick\",\"tried\",\"trip\",\"troops\",\n  \"tropical\",\"trouble\",\"truck\",\"trunk\",\"truth\",\"try\",\"tube\",\"tune\",\n  \"turn\",\"twelve\",\"twenty\",\"twice\",\"two\",\"type\",\"typical\",\"uncle\",\n  \"under\",\"underline\",\"understanding\",\"unhappy\",\"union\",\"unit\",\"universe\",\"unknown\",\n  \"unless\",\"until\",\"unusual\",\"up\",\"upon\",\"upper\",\"upward\",\"us\",\n  \"use\",\"useful\",\"using\",\"usual\",\"usually\",\"valley\",\"valuable\",\"value\",\n  \"vapor\",\"variety\",\"various\",\"vast\",\"vegetable\",\"verb\",\"vertical\",\"very\",\n  \"vessels\",\"victory\",\"view\",\"village\",\"visit\",\"visitor\",\"voice\",\"volume\",\n  \"vote\",\"vowel\",\"voyage\",\"wagon\",\"wait\",\"walk\",\"wall\",\"want\",\n  \"war\",\"warm\",\"warn\",\"was\",\"wash\",\"waste\",\"watch\",\"water\",\n  \"wave\",\"way\",\"we\",\"weak\",\"wealth\",\"wear\",\"weather\",\"week\",\n  \"weigh\",\"weight\",\"welcome\",\"well\",\"went\",\"were\",\"west\",\"western\",\n  \"wet\",\"whale\",\"what\",\"whatever\",\"wheat\",\"wheel\",\"when\",\"whenever\",\n  \"where\",\"wherever\",\"whether\",\"which\",\"while\",\"whispered\",\"whistle\",\"white\",\n  \"who\",\"whole\",\"whom\",\"whose\",\"why\",\"wide\",\"widely\",\"wife\",\n  \"wild\",\"will\",\"willing\",\"win\",\"wind\",\"window\",\"wing\",\"winter\",\n  \"wire\",\"wise\",\"wish\",\"with\",\"within\",\"without\",\"wolf\",\"women\",\n  \"won\",\"wonder\",\"wonderful\",\"wood\",\"wooden\",\"wool\",\"word\",\"wore\",\n  \"work\",\"worker\",\"world\",\"worried\",\"worry\",\"worse\",\"worth\",\"would\",\n  \"wrapped\",\"write\",\"writer\",\"writing\",\"written\",\"wrong\",\"wrote\",\"yard\",\n  \"year\",\"yellow\",\"yes\",\"yesterday\",\"yet\",\"you\",\"young\",\"younger\",\n  \"your\",\"yourself\",\"youth\",\"zero\",\"zebra\",\"zipper\",\"zoo\",\"zulu\"\n];\n\nfunction words(options) {\n\n  function word() {\n    if (options && options.maxLength > 1) {\n      return generateWordWithMaxLength();\n    } else {\n      return generateRandomWord();\n    }\n  }\n\n  function generateWordWithMaxLength() {\n    var rightSize = false;\n    var wordUsed;\n    while (!rightSize) {  \n      wordUsed = generateRandomWord();\n      if(wordUsed.length <= options.maxLength) {\n        rightSize = true;\n      }\n\n    }\n    return wordUsed;\n  }\n\n  function generateRandomWord() {\n    return wordList[randInt(wordList.length)];\n  }\n\n  function randInt(lessThan) {\n    return Math.floor(Math.random() * lessThan);\n  }\n\n  // No arguments = generate one word\n  if (typeof(options) === 'undefined') {\n    return word();\n  }\n\n  // Just a number = return that many words\n  if (typeof(options) === 'number') {\n    options = { exactly: options };\n  }\n\n  // options supported: exactly, min, max, join\n  if (options.exactly) {\n    options.min = options.exactly;\n    options.max = options.exactly;\n  }\n  \n  // not a number = one word par string\n  if (typeof(options.wordsPerString) !== 'number') {\n    options.wordsPerString = 1;\n  }\n\n  //not a function = returns the raw word\n  if (typeof(options.formatter) !== 'function') {\n    options.formatter = (word) => word;\n  }\n\n  //not a string = separator is a space\n  if (typeof(options.separator) !== 'string') {\n    options.separator = ' ';\n  }\n\n  var total = options.min + randInt(options.max + 1 - options.min);\n  var results = [];\n  var token = '';\n  var relativeIndex = 0;\n\n  for (var i = 0; (i < total * options.wordsPerString); i++) {\n    if (relativeIndex === options.wordsPerString - 1) {\n      token += options.formatter(word(), relativeIndex);\n    }\n    else {\n      token += options.formatter(word(), relativeIndex) + options.separator;\n    }\n    relativeIndex++;\n    if ((i + 1) % options.wordsPerString === 0) {\n      results.push(token);\n      token = ''; \n      relativeIndex = 0;\n    }\n   \n  }\n  if (typeof options.join === 'string') {\n    results = results.join(options.join);\n  }\n\n  return results;\n}\n\nmodule.exports = words;\n// Export the word list as it is often useful\nwords.wordList = wordList;\n","// A port of an algorithm by Johannes Baage <baagoe@baagoe.com>, 2010\n// http://baagoe.com/en/RandomMusings/javascript/\n// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror\n// Original work is under MIT license -\n\n// Copyright (C) 2010 by Johannes Baage <baagoe@baagoe.org>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\n\n(function(global, module, define) {\n\nfunction Alea(seed) {\n  var me = this, mash = Mash();\n\n  me.next = function() {\n    var t = 2091639 * me.s0 + me.c * 2.3283064365386963e-10; // 2^-32\n    me.s0 = me.s1;\n    me.s1 = me.s2;\n    return me.s2 = t - (me.c = t | 0);\n  };\n\n  // Apply the seeding algorithm from Baagoe.\n  me.c = 1;\n  me.s0 = mash(' ');\n  me.s1 = mash(' ');\n  me.s2 = mash(' ');\n  me.s0 -= mash(seed);\n  if (me.s0 < 0) { me.s0 += 1; }\n  me.s1 -= mash(seed);\n  if (me.s1 < 0) { me.s1 += 1; }\n  me.s2 -= mash(seed);\n  if (me.s2 < 0) { me.s2 += 1; }\n  mash = null;\n}\n\nfunction copy(f, t) {\n  t.c = f.c;\n  t.s0 = f.s0;\n  t.s1 = f.s1;\n  t.s2 = f.s2;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new Alea(seed),\n      state = opts && opts.state,\n      prng = xg.next;\n  prng.int32 = function() { return (xg.next() * 0x100000000) | 0; }\n  prng.double = function() {\n    return prng() + (prng() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n  };\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nfunction Mash() {\n  var n = 0xefc8249d;\n\n  var mash = function(data) {\n    data = String(data);\n    for (var i = 0; i < data.length; i++) {\n      n += data.charCodeAt(i);\n      var h = 0.02519603282416938 * n;\n      n = h >>> 0;\n      h -= n;\n      h *= n;\n      n = h >>> 0;\n      h -= n;\n      n += h * 0x100000000; // 2^32\n    }\n    return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n  };\n\n  return mash;\n}\n\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.alea = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","import rw from \"random-words\";\nimport seedrandom from \"seedrandom/lib/alea\";\n\n/**\n * Uses the `seedrandom` package to replace Math.random() with a seedable PRNG.\n *\n * @param seed An optional seed. If none is given, a random seed will be generated.\n * @returns The seed value.\n */\nexport function setSeed(seed: string = Math.random().toString()) {\n  Math.random = seedrandom(seed);\n  return seed;\n}\n\nexport function repeat(array, repetitions, unpack = false) {\n  const arr_isArray = Array.isArray(array);\n  const rep_isArray = Array.isArray(repetitions);\n\n  // if array is not an array, then we just repeat the item\n  if (!arr_isArray) {\n    if (!rep_isArray) {\n      array = [array];\n      repetitions = [repetitions];\n    } else {\n      repetitions = [repetitions[0]];\n      console.log(\n        \"Unclear parameters given to randomization.repeat. Multiple set sizes specified, but only one item exists to sample. Proceeding using the first set size.\"\n      );\n    }\n  } else {\n    // if repetitions is not an array, but array is, then we\n    // repeat repetitions for each entry in array\n    if (!rep_isArray) {\n      let reps = [];\n      for (let i = 0; i < array.length; i++) {\n        reps.push(repetitions);\n      }\n      repetitions = reps;\n    } else {\n      if (array.length != repetitions.length) {\n        console.warn(\n          \"Unclear parameters given to randomization.repeat. Items and repetitions are unequal lengths. Behavior may not be as expected.\"\n        );\n        // throw warning if repetitions is too short, use first rep ONLY.\n        if (repetitions.length < array.length) {\n          let reps = [];\n          for (let i = 0; i < array.length; i++) {\n            reps.push(repetitions);\n          }\n          repetitions = reps;\n        } else {\n          // throw warning if too long, and then use the first N\n          repetitions = repetitions.slice(0, array.length);\n        }\n      }\n    }\n  }\n\n  // should be clear at this point to assume that array and repetitions are arrays with == length\n  let allsamples = [];\n  for (let i = 0; i < array.length; i++) {\n    for (let j = 0; j < repetitions[i]; j++) {\n      if (array[i] == null || typeof array[i] != \"object\") {\n        allsamples.push(array[i]);\n      } else {\n        allsamples.push(Object.assign({}, array[i]));\n      }\n    }\n  }\n\n  let out: any = shuffle(allsamples);\n\n  if (unpack) {\n    out = unpackArray(out);\n  }\n\n  return out;\n}\n\nexport function shuffle(array: Array<any>) {\n  if (!Array.isArray(array)) {\n    console.error(\"Argument to shuffle() must be an array.\");\n  }\n\n  const copy_array = array.slice(0);\n  let m = copy_array.length,\n    t,\n    i;\n\n  // While there remain elements to shuffle\n  while (m) {\n    // Pick a remaining element\n    i = Math.floor(Math.random() * m--);\n\n    // And swap it with the current element.\n    t = copy_array[m];\n    copy_array[m] = copy_array[i];\n    copy_array[i] = t;\n  }\n\n  return copy_array;\n}\n\nexport function shuffleNoRepeats(arr: Array<any>, equalityTest: (a: any, b: any) => boolean) {\n  if (!Array.isArray(arr)) {\n    console.error(\"First argument to shuffleNoRepeats() must be an array.\");\n  }\n  if (typeof equalityTest !== \"undefined\" && typeof equalityTest !== \"function\") {\n    console.error(\"Second argument to shuffleNoRepeats() must be a function.\");\n  }\n  // define a default equalityTest\n  if (typeof equalityTest == \"undefined\") {\n    equalityTest = function (a, b) {\n      if (a === b) {\n        return true;\n      } else {\n        return false;\n      }\n    };\n  }\n\n  const random_shuffle = shuffle(arr);\n\n  for (let i = 0; i < random_shuffle.length - 1; i++) {\n    if (equalityTest(random_shuffle[i], random_shuffle[i + 1])) {\n      // neighbors are equal, pick a new random neighbor to swap (not the first or last element, to avoid edge cases)\n      let random_pick = Math.floor(Math.random() * (random_shuffle.length - 2)) + 1;\n      // test to make sure the new neighbor isn't equal to the old one\n      while (\n        equalityTest(random_shuffle[i + 1], random_shuffle[random_pick]) ||\n        equalityTest(random_shuffle[i + 1], random_shuffle[random_pick + 1]) ||\n        equalityTest(random_shuffle[i + 1], random_shuffle[random_pick - 1]) ||\n        equalityTest(random_shuffle[i], random_shuffle[random_pick])\n      ) {\n        random_pick = Math.floor(Math.random() * (random_shuffle.length - 2)) + 1;\n      }\n      const new_neighbor = random_shuffle[random_pick];\n      random_shuffle[random_pick] = random_shuffle[i + 1];\n      random_shuffle[i + 1] = new_neighbor;\n    }\n  }\n\n  return random_shuffle;\n}\n\nexport function shuffleAlternateGroups(arr_groups, random_group_order = false) {\n  const n_groups = arr_groups.length;\n  if (n_groups == 1) {\n    console.warn(\n      \"shuffleAlternateGroups() was called with only one group. Defaulting to simple shuffle.\"\n    );\n    return shuffle(arr_groups[0]);\n  }\n\n  let group_order = [];\n  for (let i = 0; i < n_groups; i++) {\n    group_order.push(i);\n  }\n  if (random_group_order) {\n    group_order = shuffle(group_order);\n  }\n\n  const randomized_groups = [];\n  let min_length = null;\n  for (let i = 0; i < n_groups; i++) {\n    min_length =\n      min_length === null ? arr_groups[i].length : Math.min(min_length, arr_groups[i].length);\n    randomized_groups.push(shuffle(arr_groups[i]));\n  }\n\n  const out = [];\n  for (let i = 0; i < min_length; i++) {\n    for (let j = 0; j < group_order.length; j++) {\n      out.push(randomized_groups[group_order[j]][i]);\n    }\n  }\n\n  return out;\n}\n\nexport function sampleWithoutReplacement(arr, size) {\n  if (!Array.isArray(arr)) {\n    console.error(\"First argument to sampleWithoutReplacement() must be an array\");\n  }\n\n  if (size > arr.length) {\n    console.error(\"Cannot take a sample larger than the size of the set of items to sample.\");\n  }\n  return shuffle(arr).slice(0, size);\n}\n\nexport function sampleWithReplacement(arr, size, weights?) {\n  if (!Array.isArray(arr)) {\n    console.error(\"First argument to sampleWithReplacement() must be an array\");\n  }\n\n  const normalized_weights = [];\n  if (typeof weights !== \"undefined\") {\n    if (weights.length !== arr.length) {\n      console.error(\n        \"The length of the weights array must equal the length of the array \" +\n          \"to be sampled from.\"\n      );\n    }\n    let weight_sum = 0;\n    for (const weight of weights) {\n      weight_sum += weight;\n    }\n    for (const weight of weights) {\n      normalized_weights.push(weight / weight_sum);\n    }\n  } else {\n    for (let i = 0; i < arr.length; i++) {\n      normalized_weights.push(1 / arr.length);\n    }\n  }\n\n  const cumulative_weights = [normalized_weights[0]];\n  for (let i = 1; i < normalized_weights.length; i++) {\n    cumulative_weights.push(normalized_weights[i] + cumulative_weights[i - 1]);\n  }\n\n  const samp = [];\n  for (let i = 0; i < size; i++) {\n    const rnd = Math.random();\n    let index = 0;\n    while (rnd > cumulative_weights[index]) {\n      index++;\n    }\n    samp.push(arr[index]);\n  }\n  return samp;\n}\n\nexport function factorial(factors: Record<string, any>, repetitions = 1, unpack = false) {\n  let design = [{}];\n  for (const [factorName, factor] of Object.entries(factors)) {\n    const new_design = [];\n    for (const level of factor) {\n      for (const cell of design) {\n        new_design.push({ ...cell, [factorName]: level });\n      }\n    }\n    design = new_design;\n  }\n\n  return repeat(design, repetitions, unpack);\n}\n\nexport function randomID(length = 32) {\n  let result = \"\";\n  const chars = \"0123456789abcdefghjklmnopqrstuvwxyz\";\n  for (let i = 0; i < length; i++) {\n    result += chars[Math.floor(Math.random() * chars.length)];\n  }\n  return result;\n}\n\n/**\n * Generate a random integer from `lower` to `upper`, inclusive of both end points.\n * @param lower The lowest value it is possible to generate\n * @param upper The highest value it is possible to generate\n * @returns A random integer\n */\nexport function randomInt(lower: number, upper: number) {\n  if (upper < lower) {\n    throw new Error(\"Upper boundary must be greater than or equal to lower boundary\");\n  }\n  return lower + Math.floor(Math.random() * (upper - lower + 1));\n}\n\n/**\n * Generates a random sample from a Bernoulli distribution.\n * @param p The probability of sampling 1.\n * @returns 0, with probability 1-p, or 1, with probability p.\n */\nexport function sampleBernoulli(p: number) {\n  return Math.random() <= p ? 1 : 0;\n}\n\nexport function sampleNormal(mean: number, standard_deviation: number) {\n  return randn_bm() * standard_deviation + mean;\n}\n\nexport function sampleExponential(rate: number) {\n  return -Math.log(Math.random()) / rate;\n}\n\nexport function sampleExGaussian(\n  mean: number,\n  standard_deviation: number,\n  rate: number,\n  positive = false\n) {\n  let s = sampleNormal(mean, standard_deviation) + sampleExponential(rate);\n  if (positive) {\n    while (s <= 0) {\n      s = sampleNormal(mean, standard_deviation) + sampleExponential(rate);\n    }\n  }\n  return s;\n}\n\n/**\n * Generate one or more random words.\n *\n * This is a wrapper function for the {@link https://www.npmjs.com/package/random-words `random-words` npm package}.\n *\n * @param opts An object with optional properties `min`, `max`, `exactly`,\n * `join`, `maxLength`, `wordsPerString`, `separator`, and `formatter`.\n *\n * @returns An array of words or a single string, depending on parameter choices.\n */\nexport function randomWords(opts) {\n  return rw(opts);\n}\n\n// Box-Muller transformation for a random sample from normal distribution with mean = 0, std = 1\n// https://stackoverflow.com/a/36481059/3726673\nfunction randn_bm() {\n  var u = 0,\n    v = 0;\n  while (u === 0) u = Math.random(); //Converting [0,1) to (0,1)\n  while (v === 0) v = Math.random();\n  return Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v);\n}\n\nfunction unpackArray(array) {\n  const out = {};\n\n  for (const x of array) {\n    for (const key of Object.keys(x)) {\n      if (typeof out[key] === \"undefined\") {\n        out[key] = [];\n      }\n      out[key].push(x[key]);\n    }\n  }\n\n  return out;\n}\n","interface turkInformation {\n  /**\n   * Is the experiment being loaded in preview mode on Mechanical Turk?\n   */\n  previewMode: boolean;\n  /**\n   * Is the experiment being loaded outside of the Mechanical Turk environment?\n   */\n  outsideTurk: boolean;\n  /**\n   * The HIT ID.\n   */\n  hitId: string;\n  /**\n   * The Assignment ID.\n   */\n  assignmentId: string;\n  /**\n   * The worker ID.\n   */\n  workerId: string;\n  /**\n   * URL for submission of the HIT.\n   */\n  turkSubmitTo: string;\n}\n\n/**\n * Gets information about the Mechanical Turk Environment, HIT, Assignment, and Worker\n * by parsing the URL variables that Mechanical Turk generates.\n * @returns An object containing information about the Mechanical Turk Environment, HIT, Assignment, and Worker.\n */\nexport function turkInfo(): turkInformation {\n  const turk: turkInformation = {\n    previewMode: false,\n    outsideTurk: false,\n    hitId: \"INVALID_URL_PARAMETER\",\n    assignmentId: \"INVALID_URL_PARAMETER\",\n    workerId: \"INVALID_URL_PARAMETER\",\n    turkSubmitTo: \"INVALID_URL_PARAMETER\",\n  };\n\n  const param = function (url, name) {\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n    const regexS = \"[\\\\?&]\" + name + \"=([^&#]*)\";\n    const regex = new RegExp(regexS);\n    const results = regex.exec(url);\n    return results == null ? \"\" : results[1];\n  };\n\n  const src = param(window.location.href, \"assignmentId\")\n    ? window.location.href\n    : document.referrer;\n\n  const keys = [\"assignmentId\", \"hitId\", \"workerId\", \"turkSubmitTo\"];\n  keys.map(function (key) {\n    turk[key] = unescape(param(src, key));\n  });\n\n  turk.previewMode = turk.assignmentId == \"ASSIGNMENT_ID_NOT_AVAILABLE\";\n\n  turk.outsideTurk =\n    !turk.previewMode && turk.hitId === \"\" && turk.assignmentId == \"\" && turk.workerId == \"\";\n\n  return turk;\n}\n\n/**\n * Send data to Mechnical Turk for storage.\n * @param data An object containing `key:value` pairs to send to Mechanical Turk. Values\n * cannot contain nested objects, arrays, or functions.\n * @returns Nothing\n */\nexport function submitToTurk(data) {\n  const turk = turkInfo();\n  const assignmentId = turk.assignmentId;\n  const turkSubmitTo = turk.turkSubmitTo;\n\n  if (!assignmentId || !turkSubmitTo) return;\n\n  const form = document.createElement(\"form\");\n  form.method = \"POST\";\n  form.action = turkSubmitTo + \"/mturk/externalSubmit?assignmentId=\" + assignmentId;\n\n  for (const key in data) {\n    if (data.hasOwnProperty(key)) {\n      const hiddenField = document.createElement(\"input\");\n      hiddenField.type = \"hidden\";\n      hiddenField.name = key;\n      hiddenField.id = key;\n      hiddenField.value = data[key];\n\n      form.appendChild(hiddenField);\n    }\n  }\n\n  document.body.appendChild(form);\n  form.submit();\n}\n","/**\n * Maintains a visual progress bar using HTML and CSS\n */\nexport class ProgressBar {\n  constructor(\n    private readonly containerElement: HTMLDivElement,\n    private readonly message: string | ((progress: number) => string)\n  ) {\n    this.setupElements();\n  }\n\n  private _progress = 0;\n\n  private innerDiv: HTMLDivElement;\n  private messageSpan: HTMLSpanElement;\n\n  /** Adds the progress bar HTML code into `this.containerElement` */\n  private setupElements() {\n    this.messageSpan = document.createElement(\"span\");\n\n    this.innerDiv = document.createElement(\"div\");\n    this.innerDiv.id = \"jspsych-progressbar-inner\";\n    this.update();\n\n    const outerDiv = document.createElement(\"div\");\n    outerDiv.id = \"jspsych-progressbar-outer\";\n    outerDiv.appendChild(this.innerDiv);\n\n    this.containerElement.appendChild(this.messageSpan);\n    this.containerElement.appendChild(outerDiv);\n  }\n\n  /** Updates the progress bar according to `this.progress` */\n  private update() {\n    this.innerDiv.style.width = this._progress * 100 + \"%\";\n\n    if (typeof this.message === \"function\") {\n      this.messageSpan.innerHTML = this.message(this._progress);\n    } else {\n      this.messageSpan.innerHTML = this.message;\n    }\n  }\n\n  /**\n   * The bar's current position as a number in the closed interval [0, 1]. Set this to update the\n   * progress bar accordingly.\n   */\n  set progress(progress: number) {\n    if (typeof progress !== \"number\" || progress < 0 || progress > 1) {\n      throw new Error(\"jsPsych.progressBar.progress must be a number between 0 and 1\");\n    }\n\n    this._progress = progress;\n    this.update();\n  }\n\n  get progress() {\n    return this._progress;\n  }\n}\n","import { Class } from \"type-fest\";\n\nimport { JsPsychExtension } from \"../modules/extensions\";\nimport { JsPsychPlugin, PluginInfo } from \"../modules/plugins\";\nimport { Trial } from \"./Trial\";\nimport { PromiseWrapper } from \"./util\";\n\nexport class TimelineVariable {\n  constructor(public readonly name: string) {}\n}\n\nexport type Parameter<T> = T | (() => T) | TimelineVariable;\n\nexport type TrialExtensionsConfiguration = Array<{\n  type: Class<JsPsychExtension>;\n  params?: Record<string, any>;\n}>;\n\nexport type SimulationMode = \"visual\" | \"data-only\";\n\nexport type SimulationOptions = {\n  data?: Record<string, any>;\n  mode?: SimulationMode;\n  simulate?: boolean;\n};\n\nexport type SimulationOptionsParameter = Parameter<{\n  data?: Parameter<Record<string, Parameter<any>>>;\n  mode?: Parameter<SimulationMode>;\n  simulate?: Parameter<boolean>;\n}>;\n\nexport interface TrialDescription extends Record<string, any> {\n  type: Parameter<Class<JsPsychPlugin<any>>>;\n\n  /** https://www.jspsych.org/latest/overview/plugins/#the-post_trial_gap-iti-parameter */\n  post_trial_gap?: Parameter<number>;\n\n  /** https://www.jspsych.org/latest/overview/plugins/#the-save_trial_parameters-parameter */\n  save_trial_parameters?: Parameter<Record<string, boolean>>;\n\n  /**\n   * Whether to include the values of timeline variables under a `timeline_variables` key. Can be\n   * `true` to save the values of all timeline variables, or an array of timeline variable names to\n   * only save specific timeline variables. Defaults to `false`.\n   */\n  save_timeline_variables?: Parameter<boolean | string[]>;\n\n  /** https://www.jspsych.org/latest/overview/style/#using-the-css_classes-trial-parameter */\n  css_classes?: Parameter<string | string[]>;\n\n  /** https://www.jspsych.org/latest/overview/simulation/#controlling-simulation-mode-with-simulation_options */\n  simulation_options?: SimulationOptionsParameter | string;\n\n  /** https://www.jspsych.org/latest/overview/extensions/ */\n  extensions?: Parameter<TrialExtensionsConfiguration>;\n\n  /**\n   * Whether to record the data of this trial. Defaults to `true`.\n   */\n  record_data?: Parameter<boolean>;\n\n  // Events\n\n  /** https://www.jspsych.org/latest/overview/events/#on_start-trial */\n  on_start?: (trial: any) => void;\n\n  /** https://www.jspsych.org/latest/overview/events/#on_load */\n  on_load?: () => void;\n\n  /** https://www.jspsych.org/latest/overview/events/#on_finish-trial */\n  on_finish?: (data: any) => void;\n}\n\n/** https://www.jspsych.org/latest/overview/timeline/#sampling-methods */\nexport type SampleOptions =\n  | { type: \"with-replacement\"; size: number; weights?: number[] }\n  | { type: \"without-replacement\"; size: number }\n  | { type: \"fixed-repetitions\"; size: number }\n  | { type: \"alternate-groups\"; groups: number[][]; randomize_group_order?: boolean }\n  | { type: \"custom\"; fn: (ids: number[]) => number[] };\n\nexport type TimelineArray = Array<TimelineDescription | TrialDescription | TimelineArray>;\n\nexport interface TimelineDescription extends Record<string, any> {\n  timeline: TimelineArray;\n  timeline_variables?: Record<string, any>[];\n\n  name?: string;\n\n  // Control flow\n\n  /** https://www.jspsych.org/latest/overview/timeline/#repeating-a-set-of-trials */\n  repetitions?: number;\n\n  /** https://www.jspsych.org/latest/overview/timeline/#looping-timelines */\n  loop_function?: (data: any) => boolean;\n\n  /** https://www.jspsych.org/latest/overview/timeline/#conditional-timelines */\n  conditional_function?: () => boolean;\n\n  // Randomization\n\n  /** https://www.jspsych.org/latest/overview/timeline/#random-orders-of-trials */\n  randomize_order?: boolean;\n\n  /** https://www.jspsych.org/latest/overview/timeline/#sampling-methods */\n  sample?: SampleOptions;\n\n  // Events\n\n  /** https://www.jspsych.org/latest/overview/events/#on_timeline_start */\n  on_timeline_start?: () => void;\n\n  /** https://www.jspsych.org/latest/overview/events/#on_timeline_finish */\n  on_timeline_finish?: () => void;\n}\n\nexport const timelineDescriptionKeys = [\n  \"timeline\",\n  \"timeline_variables\",\n  \"name\",\n  \"repetitions\",\n  \"loop_function\",\n  \"conditional_function\",\n  \"randomize_order\",\n  \"sample\",\n  \"on_timeline_start\",\n  \"on_timeline_finish\",\n];\n\nexport function isTrialDescription(\n  description: TrialDescription | TimelineDescription\n): description is TrialDescription {\n  return !isTimelineDescription(description);\n}\n\nexport function isTimelineDescription(\n  description: TrialDescription | TimelineDescription | TimelineArray\n): description is TimelineDescription | TimelineArray {\n  return Boolean((description as TimelineDescription).timeline) || Array.isArray(description);\n}\n\nexport enum TimelineNodeStatus {\n  PENDING,\n  RUNNING,\n  PAUSED,\n  COMPLETED,\n  ABORTED,\n}\n\n/**\n * Functions and options needed by `TimelineNode`s, provided by the `JsPsych` instance. This\n * approach allows to keep the public `JsPsych` API slim and decouples the `JsPsych` and timeline\n * node classes, simplifying unit testing.\n */\nexport interface TimelineNodeDependencies {\n  /**\n   * Called at the start of a trial, prior to invoking the plugin's trial method.\n   */\n  onTrialStart: (trial: Trial) => void;\n\n  /**\n   * Called when a trial's result data is available, before invoking `onTrialFinished()`.\n   */\n  onTrialResultAvailable: (trial: Trial) => void;\n\n  /**\n   * Called after a trial has finished.\n   */\n  onTrialFinished: (trial: Trial) => void;\n\n  /**\n   * Invoke `on_start` extension callbacks according to `extensionsConfiguration`\n   */\n  runOnStartExtensionCallbacks(extensionsConfiguration: TrialExtensionsConfiguration): void;\n\n  /**\n   * Invoke `on_load` extension callbacks according to `extensionsConfiguration`\n   */\n  runOnLoadExtensionCallbacks(extensionsConfiguration: TrialExtensionsConfiguration): void;\n\n  /**\n   * Invoke `on_finish` extension callbacks according to `extensionsConfiguration` and return a\n   * joint extensions result object\n   */\n  runOnFinishExtensionCallbacks(\n    extensionsConfiguration: TrialExtensionsConfiguration\n  ): Promise<Record<string, any>>;\n\n  /**\n   * Returns the simulation mode or `undefined`, if the experiment is not running in simulation\n   * mode.\n   */\n  getSimulationMode(): SimulationMode | undefined;\n\n  /**\n   * Returns the global simulation options as passed to `jsPsych.simulate()`\n   */\n  getGlobalSimulationOptions(): Record<string, SimulationOptionsParameter>;\n\n  /**\n   * Given a plugin class, create a new instance of it and return it.\n   */\n  instantiatePlugin: <Info extends PluginInfo>(\n    pluginClass: Class<JsPsychPlugin<Info>>\n  ) => JsPsychPlugin<Info>;\n\n  /**\n   * Return JsPsych's display element so it can be provided to plugins\n   */\n  getDisplayElement: () => HTMLElement;\n\n  /**\n   * Return the default inter-trial interval as provided to `initJsPsych()`\n   */\n  getDefaultIti: () => number;\n\n  /**\n   * A `PromiseWrapper` whose promise is resolved with result data whenever `jsPsych.finishTrial()`\n   * is called.\n   */\n  finishTrialPromise: PromiseWrapper<TrialResult | void>;\n\n  /**\n   * Clear all of the timeouts\n   */\n  clearAllTimeouts: () => void;\n}\n\nexport type TrialResult = Record<string, any>;\nexport type TrialResults = Array<Record<string, any>>;\n","/**\n * Maintains a promise and offers a function to resolve it. Whenever the promise is resolved, it is\n * replaced with a new one.\n */\nexport class PromiseWrapper<ResolveType = void> {\n  constructor() {\n    this.reset();\n  }\n\n  private promise: Promise<ResolveType>;\n  private resolvePromise: (resolveValue: ResolveType) => void;\n\n  reset() {\n    this.promise = new Promise((resolve) => {\n      this.resolvePromise = resolve;\n    });\n  }\n  get() {\n    return this.promise;\n  }\n  resolve(value: ResolveType) {\n    this.resolvePromise(value);\n    this.reset();\n  }\n}\n\nexport function isPromise(value: any): value is Promise<any> {\n  return value && typeof value[\"then\"] === \"function\";\n}\n\nexport function delay(ms: number) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\n/**\n * Returns the string representation of a `path` array like accepted by lodash's `get` and `set`\n * functions.\n */\nexport function parameterPathArrayToString([firstPathElement, ...remainingPathElements]: string[]) {\n  let pathString = firstPathElement ?? \"\";\n\n  for (const pathElement of remainingPathElements) {\n    pathString += Number.isNaN(Number.parseInt(pathElement))\n      ? `.${pathElement}`\n      : `[${pathElement}]`;\n  }\n\n  return pathString;\n}\n\nfunction isObjectOrArray(value: any): value is Record<string, any> | any[] {\n  return typeof value === \"object\" && value !== null;\n}\n\ntype LookupResult = { doesPathExist: boolean; value?: any };\n\n/**\n * Initialized with an object, provides a `lookup` method to look up nested object and array paths\n * and a `set` method to override the element that `lookup` uses at a given path. The original\n * object remains unmodified. All looked up values are cached, including those at intermediate\n * paths. This means, `set`ting the element at a path only affects nested path lookups if the paths\n * have not been looked up and cached before.\n */\nexport class ParameterObjectPathCache {\n  private static lookupChild(\n    objectOrArray: Record<string, any> | any[],\n    childName: string\n  ): LookupResult {\n    let doesPathExist: boolean = false;\n    let childValue: any;\n\n    if (Number.isNaN(Number.parseInt(childName))) {\n      // `childName` refers to an object property\n      if (Object.hasOwn(objectOrArray, childName)) {\n        doesPathExist = true;\n        childValue = objectOrArray[childName];\n      }\n    } else {\n      // `childName` refers to an array index\n      if (Number.parseInt(childName) < objectOrArray.length) {\n        doesPathExist = true;\n        childValue = objectOrArray[childName];\n      }\n    }\n\n    return { doesPathExist, value: childValue };\n  }\n\n  private cache = new Map<string, any>();\n  private rootObject: any;\n\n  private get(path: string[]) {\n    return this.cache.get(path.join(\".\"));\n  }\n\n  private has(path: string[]) {\n    return this.cache.has(path.join(\".\"));\n  }\n\n  constructor() {}\n\n  public initialize(rootObject: any) {\n    this.rootObject = rootObject;\n    this.cache.set(\"\", rootObject);\n  }\n\n  public reset() {\n    this.cache.clear();\n    this.cache.set(\"\", this.rootObject);\n  }\n\n  public set(path: string[], value: any) {\n    this.cache.set(path.join(\".\"), value);\n  }\n\n  public lookup(path: string[]): LookupResult {\n    if (this.has(path)) {\n      return { doesPathExist: true, value: this.get(path) };\n    }\n\n    // Recursively find the closest ancestor path that has already been cached and start looking up\n    // the path from there, caching intermediate elements along the way\n    const lookupPath = (path: string[]): LookupResult => {\n      const parentPath = path.slice(0, -1);\n      const childName = path[path.length - 1];\n      if (!this.has(parentPath) && parentPath.length > 0) {\n        if (!lookupPath(parentPath).doesPathExist) {\n          return { doesPathExist: false };\n        }\n      }\n\n      const parentValue = this.get(parentPath);\n      if (!isObjectOrArray(parentValue)) {\n        return { doesPathExist: false };\n      }\n\n      const lookupResult = ParameterObjectPathCache.lookupChild(parentValue, childName);\n      if (lookupResult.doesPathExist) {\n        this.set(path, lookupResult.value);\n      }\n      return lookupResult;\n    };\n\n    return lookupPath(path);\n  }\n}\n","import type { Timeline } from \"./Timeline\";\nimport { ParameterObjectPathCache } from \"./util\";\nimport {\n  TimelineArray,\n  TimelineDescription,\n  TimelineNodeDependencies,\n  TimelineNodeStatus,\n  TimelineVariable,\n  TrialDescription,\n  TrialResult,\n} from \".\";\n\nexport type GetParameterValueOptions = {\n  /**\n   * If true, and the retrieved parameter value is a function, invoke the function and return its\n   * return value (defaults to `true`)\n   */\n  evaluateFunctions?: boolean;\n\n  /**\n   * Whether to fall back to parent timeline node parameters (defaults to `true`)\n   */\n  recursive?: boolean;\n\n  /**\n   * Whether the timeline node should cache the parameter lookup result for successive lookups,\n   * including those of nested properties or array elements (defaults to `true`)\n   */\n  cacheResult?: boolean;\n\n  /**\n   * A function that will be invoked with the original result of the parameter value lookup.\n   * Whatever it returns will subsequently be used instead of the original result. This allows to\n   * modify results before they are cached.\n   */\n  replaceResult?: (originalResult: any) => any;\n};\n\nexport abstract class TimelineNode {\n  public abstract readonly description: TimelineDescription | TrialDescription | TimelineArray;\n\n  /**\n   * The globally unique trial index of this node. It is set when the node is run. Timeline nodes\n   * have the same trial index as their first trial.\n   */\n  public index?: number;\n\n  public abstract readonly parent?: Timeline;\n\n  abstract run(): Promise<void>;\n\n  /**\n   * Returns a flat array of all currently available results of this node\n   */\n  abstract getResults(): TrialResult[];\n\n  /**\n   * Recursively evaluates the given timeline variable, starting at the current timeline node.\n   * Returns the result, or `undefined` if the variable is neither specified in the timeline\n   * description of this node, nor in the description of any parent node.\n   */\n  abstract evaluateTimelineVariable(variable: TimelineVariable): any;\n\n  /**\n   * Returns the most recent (child) TimelineNode. For trial nodes, this is always the trial node\n   * itself since trial nodes do not have child nodes. For timeline nodes, the return value is a\n   * Trial object most of the time, but it may also be a Timeline object when a timeline hasn't yet\n   * instantiated its children (e.g. during initial timeline callback functions).\n   */\n  abstract getLatestNode(): TimelineNode;\n\n  /**\n   * Returns an active child timeline (or itself) that matches the given name, or `undefined` if no such child exists.\n   */\n  abstract getActiveTimelineByName(name: string): Timeline | undefined;\n\n  protected status = TimelineNodeStatus.PENDING;\n\n  constructor(protected readonly dependencies: TimelineNodeDependencies) {}\n\n  getStatus() {\n    return this.status;\n  }\n\n  private parameterValueCache = new ParameterObjectPathCache();\n\n  /**\n   * Initializes the parameter value cache with `this.description`. To be called by subclass\n   * constructors after setting `this.description`.\n   */\n  protected initializeParameterValueCache() {\n    this.parameterValueCache.initialize(this.description);\n  }\n\n  /**\n   * Resets all cached parameter values in this timeline node and all of its parents. This is\n   * necessary to re-evaluate function parameters and timeline variables at each new trial.\n   */\n  protected resetParameterValueCache() {\n    this.parameterValueCache.reset();\n    this.parent?.resetParameterValueCache();\n  }\n\n  /**\n   * Retrieves a parameter value from the description of this timeline node, recursively falling\n   * back to the description of each parent timeline node unless `recursive` is set to `false`. If\n   * the parameter...\n   *\n   * * is a timeline variable, evaluates the variable and returns the result.\n   * * is not specified, returns `undefined`.\n   * * is a function and `evaluateFunctions` is not set to `false`, invokes the function and returns\n   *   its return value\n   * * has previously been looked up, return the cached result of the previous lookup\n   *\n   * @param parameterPath The path of the respective parameter in the timeline node description. If\n   * the path is an array, nested object properties or array items will be looked up.\n   * @param options See {@link GetParameterValueOptions}\n   */\n  public getParameterValue(\n    parameterPath: string | string[],\n    options: GetParameterValueOptions = {}\n  ): any {\n    const {\n      evaluateFunctions = true,\n      recursive = true,\n      cacheResult = true,\n      replaceResult,\n    } = options;\n\n    if (typeof parameterPath === \"string\") {\n      parameterPath = [parameterPath];\n    }\n\n    let { doesPathExist, value: result } = this.parameterValueCache.lookup(parameterPath);\n    if (!doesPathExist && recursive && this.parent) {\n      result = this.parent.getParameterValue(parameterPath, options);\n    }\n\n    if (typeof result === \"function\" && evaluateFunctions) {\n      result = result();\n    }\n    if (result instanceof TimelineVariable) {\n      result = this.evaluateTimelineVariable(result);\n    }\n\n    if (typeof replaceResult === \"function\") {\n      result = replaceResult(result);\n    }\n\n    if (cacheResult) {\n      this.parameterValueCache.set(parameterPath, result);\n    }\n\n    return result;\n  }\n\n  /**\n   * Retrieves and evaluates the `data` parameter. It is different from other parameters in that\n   * it's properties may be functions that have to be evaluated, and parent nodes' data parameter\n   * properties are merged into the result.\n   */\n  public getDataParameter(): Record<string, any> | undefined {\n    const data = this.getParameterValue(\"data\", { recursive: false });\n\n    return {\n      ...Object.fromEntries(\n        typeof data === \"object\"\n          ? Object.keys(data).map((key) => [key, this.getParameterValue([\"data\", key])])\n          : []\n      ),\n      ...this.parent?.getDataParameter(),\n    };\n  }\n}\n","import { Class } from \"type-fest\";\n\nimport { ParameterInfos } from \"../modules/plugins\";\nimport { JsPsychPlugin, ParameterType, PluginInfo } from \"../modules/plugins\";\nimport { deepCopy, deepMerge } from \"../modules/utils\";\nimport { Timeline } from \"./Timeline\";\nimport { GetParameterValueOptions, TimelineNode } from \"./TimelineNode\";\nimport { delay, isPromise, parameterPathArrayToString } from \"./util\";\nimport {\n  SimulationOptions,\n  TimelineNodeDependencies,\n  TimelineNodeStatus,\n  TimelineVariable,\n  TrialDescription,\n  TrialResult,\n  timelineDescriptionKeys,\n} from \".\";\n\nexport class Trial extends TimelineNode {\n  public readonly pluginClass: Class<JsPsychPlugin<any>>;\n  public pluginInstance: JsPsychPlugin<any>;\n  public trialObject?: TrialDescription;\n  public index?: number;\n\n  private result: TrialResult;\n  private readonly pluginInfo: PluginInfo;\n\n  constructor(\n    dependencies: TimelineNodeDependencies,\n    public readonly description: TrialDescription,\n    public readonly parent: Timeline\n  ) {\n    super(dependencies);\n    this.initializeParameterValueCache();\n\n    this.trialObject = deepCopy(description);\n    this.pluginClass = this.getParameterValue(\"type\", { evaluateFunctions: false });\n    this.pluginInfo = this.pluginClass[\"info\"];\n\n    if (!(\"version\" in this.pluginInfo) && !(\"data\" in this.pluginInfo)) {\n      console.warn(\n        this.pluginInfo[\"name\"],\n        \"is missing the 'version' and 'data' fields. Please update plugin as 'version' and 'data' will be required in v9. See https://www.jspsych.org/latest/developers/plugin-development/ for more details.\"\n      );\n    } else if (!(\"version\" in this.pluginInfo)) {\n      console.warn(\n        this.pluginInfo[\"name\"],\n        \"is missing the 'version' field. Please update plugin as 'version' will be required in v9. See https://www.jspsych.org/latest/developers/plugin-development/ for more details.\"\n      );\n    } else if (!(\"data\" in this.pluginInfo)) {\n      console.warn(\n        this.pluginInfo[\"name\"],\n        \"is missing the 'data' field. Please update plugin as 'data' will be required in v9. See https://www.jspsych.org/latest/developers/plugin-development/ for more details.\"\n      );\n    }\n  }\n\n  public async run() {\n    this.status = TimelineNodeStatus.RUNNING;\n    this.processParameters();\n\n    this.onStart();\n    this.addCssClasses();\n\n    this.pluginInstance = this.dependencies.instantiatePlugin(this.pluginClass);\n\n    this.result = this.processResult(await this.executeTrial());\n\n    this.dependencies.onTrialResultAvailable(this);\n\n    this.status = TimelineNodeStatus.COMPLETED;\n\n    await this.onFinish();\n    this.removeCssClasses();\n\n    const gap = this.getParameterValue(\"post_trial_gap\") ?? this.dependencies.getDefaultIti();\n    if (gap !== 0 && this.dependencies.getSimulationMode() !== \"data-only\") {\n      await delay(gap);\n    }\n\n    this.resetParameterValueCache();\n  }\n\n  private async executeTrial() {\n    const trialPromise = this.dependencies.finishTrialPromise.get();\n\n    /** Used as a way to figure out if `finishTrial()` has ben called without awaiting `trialPromise` */\n    let hasTrialPromiseBeenResolved = false;\n    trialPromise.then(() => {\n      hasTrialPromiseBeenResolved = true;\n    });\n\n    const { trialReturnValue, hasTrialBeenSimulated } = this.invokeTrialMethod();\n\n    // Wait until the trial has completed and grab result data\n    let result: TrialResult | void;\n    if (isPromise(trialReturnValue)) {\n      result = await Promise.race([trialReturnValue, trialPromise]);\n\n      // If `finishTrial()` was called, use the result provided to it. This may happen although\n      // `trialReturnValue` won the race (\"run-to-completion\").\n      if (hasTrialPromiseBeenResolved) {\n        result = await trialPromise;\n      }\n    } else {\n      // The `simulate` method always invokes `onLoad()`, so we don't call `onLoad()` when the trial\n      // has been simulated\n      if (!hasTrialBeenSimulated) {\n        this.onLoad();\n      }\n\n      result = await trialPromise;\n    }\n\n    // The trial has finished, time to clean up.\n    this.cleanupTrial();\n\n    return result;\n  }\n\n  private invokeTrialMethod(): {\n    trialReturnValue: void | Promise<void | TrialResult>;\n    hasTrialBeenSimulated: boolean;\n  } {\n    const globalSimulationMode = this.dependencies.getSimulationMode();\n\n    if (globalSimulationMode && typeof this.pluginInstance.simulate === \"function\") {\n      const simulationOptions = this.getSimulationOptions();\n\n      if (simulationOptions.simulate !== false) {\n        return {\n          hasTrialBeenSimulated: true,\n          trialReturnValue: this.pluginInstance.simulate(\n            this.trialObject,\n            simulationOptions.mode ?? globalSimulationMode,\n            simulationOptions,\n            this.onLoad\n          ),\n        };\n      }\n    }\n\n    return {\n      hasTrialBeenSimulated: false,\n      trialReturnValue: this.pluginInstance.trial(\n        this.dependencies.getDisplayElement(),\n        this.trialObject,\n        this.onLoad\n      ),\n    };\n  }\n\n  /**\n   * Cleanup the trial by removing the display element and removing event listeners\n   */\n  private cleanupTrial() {\n    this.dependencies.clearAllTimeouts();\n    this.dependencies.getDisplayElement().innerHTML = \"\";\n  }\n\n  /**\n   * Add the CSS classes from the `css_classes` parameter to the display element\n   */\n  private addCssClasses() {\n    const classes: string | string[] = this.getParameterValue(\"css_classes\");\n    const classList = this.dependencies.getDisplayElement().classList;\n    if (typeof classes === \"string\") {\n      classList.add(classes);\n    } else if (Array.isArray(classes)) {\n      classList.add(...classes);\n    }\n  }\n\n  /**\n   * Removes the provided css classes from the display element\n   */\n  private removeCssClasses() {\n    const classes = this.getParameterValue(\"css_classes\");\n    if (classes) {\n      this.dependencies\n        .getDisplayElement()\n        .classList.remove(...(typeof classes === \"string\" ? [classes] : classes));\n    }\n  }\n\n  private processResult(result: TrialResult | void) {\n    if (!result) {\n      result = {};\n    }\n\n    for (const [parameterName, shouldParameterBeIncluded] of Object.entries(\n      this.getParameterValue(\"save_trial_parameters\") ?? {}\n    )) {\n      if (this.pluginInfo.parameters[parameterName]) {\n        if (shouldParameterBeIncluded && !Object.hasOwn(result, parameterName)) {\n          let parameterValue = this.trialObject[parameterName];\n          if (typeof parameterValue === \"function\") {\n            parameterValue = parameterValue.toString();\n          }\n          result[parameterName] = parameterValue;\n        } else if (!shouldParameterBeIncluded && Object.hasOwn(result, parameterName)) {\n          delete result[parameterName];\n        }\n      } else {\n        console.warn(\n          `Non-existent parameter \"${parameterName}\" specified in save_trial_parameters.`\n        );\n      }\n    }\n\n    result = {\n      ...this.getDataParameter(),\n      ...result,\n      trial_type: this.pluginInfo.name,\n      trial_index: this.index,\n      plugin_version: this.pluginInfo[\"version\"] ? this.pluginInfo[\"version\"] : null,\n    };\n\n    // Add timeline variables to the result according to the `save_timeline_variables` parameter\n    const saveTimelineVariables = this.getParameterValue(\"save_timeline_variables\");\n    if (saveTimelineVariables === true) {\n      result.timeline_variables = { ...this.parent.getAllTimelineVariables() };\n    } else if (Array.isArray(saveTimelineVariables)) {\n      result.timeline_variables = Object.fromEntries(\n        Object.entries(this.parent.getAllTimelineVariables()).filter(([key, _]) =>\n          saveTimelineVariables.includes(key)\n        )\n      );\n    }\n\n    return result;\n  }\n\n  /**\n   * Runs a callback function retrieved from a parameter value and returns its result.\n   *\n   * @param parameterName The name of the parameter to retrieve the callback function from.\n   * @param callbackParameters The parameters (if any) to be passed to the callback function\n   */\n  private runParameterCallback(parameterName: string, ...callbackParameters: unknown[]) {\n    const callback = this.getParameterValue(parameterName, { evaluateFunctions: false });\n    if (callback) {\n      return callback(...callbackParameters);\n    }\n  }\n\n  private onStart() {\n    this.dependencies.onTrialStart(this);\n    this.runParameterCallback(\"on_start\", this.trialObject);\n    this.dependencies.runOnStartExtensionCallbacks(this.getParameterValue(\"extensions\"));\n  }\n\n  private onLoad = () => {\n    this.runParameterCallback(\"on_load\");\n    this.dependencies.runOnLoadExtensionCallbacks(this.getParameterValue(\"extensions\"));\n  };\n\n  private async onFinish() {\n    const extensionResults = await this.dependencies.runOnFinishExtensionCallbacks(\n      this.getParameterValue(\"extensions\")\n    );\n    Object.assign(this.result, extensionResults);\n\n    await Promise.resolve(this.runParameterCallback(\"on_finish\", this.getResult()));\n\n    this.dependencies.onTrialFinished(this);\n  }\n\n  public evaluateTimelineVariable(variable: TimelineVariable) {\n    // Timeline variable values are specified at the timeline level, not at the trial level, hence\n    // deferring to the parent timeline here\n    return this.parent?.evaluateTimelineVariable(variable);\n  }\n\n  public getParameterValue(\n    parameterPath: string | string[],\n    options: GetParameterValueOptions = {}\n  ) {\n    // Disable recursion for timeline description keys\n    if (\n      timelineDescriptionKeys.includes(\n        typeof parameterPath === \"string\" ? parameterPath : parameterPath[0]\n      )\n    ) {\n      options.recursive = false;\n    }\n    return super.getParameterValue(parameterPath, options);\n  }\n\n  /**\n   * Retrieves and evaluates the `simulation_options` parameter, considering nested properties and\n   * global simulation options.\n   */\n  public getSimulationOptions() {\n    const simulationOptions: SimulationOptions = this.getParameterValue(\"simulation_options\", {\n      replaceResult: (result = {}) => {\n        if (typeof result === \"string\") {\n          // Look up the global simulation options by their key\n          const globalSimulationOptions = this.dependencies.getGlobalSimulationOptions();\n          result = globalSimulationOptions[result] ?? globalSimulationOptions[\"default\"] ?? {};\n        }\n\n        return deepMerge(\n          deepCopy(this.dependencies.getGlobalSimulationOptions().default),\n          deepCopy(result)\n        );\n      },\n    });\n\n    if (typeof simulationOptions === \"undefined\") {\n      return {};\n    }\n\n    simulationOptions.mode = this.getParameterValue([\"simulation_options\", \"mode\"]);\n    simulationOptions.simulate = this.getParameterValue([\"simulation_options\", \"simulate\"]);\n    simulationOptions.data = this.getParameterValue([\"simulation_options\", \"data\"]);\n\n    if (typeof simulationOptions.data === \"object\") {\n      simulationOptions.data = Object.fromEntries(\n        Object.keys(simulationOptions.data).map((key) => [\n          key,\n          this.getParameterValue([\"simulation_options\", \"data\", key]),\n        ])\n      );\n    }\n\n    return simulationOptions;\n  }\n\n  /**\n   * Returns the result object of this trial or `undefined` if the result is not yet known or the\n   * `record_data` trial parameter is `false`.\n   */\n  public getResult() {\n    return this.getParameterValue(\"record_data\") === false ? undefined : this.result;\n  }\n\n  public getResults() {\n    const result = this.getResult();\n    return result ? [result] : [];\n  }\n\n  /**\n   * Checks that the parameters provided in the trial description align with the plugin's info\n   * object, resolves missing parameter values from the parent timeline, resolves timeline variable\n   * parameters, evaluates parameter functions if the expected parameter type is not `FUNCTION`, and\n   * sets default values for optional parameters.\n   */\n  private processParameters() {\n    const assignParameterValues = (\n      parameterObject: Record<string, any>,\n      parameterInfos: ParameterInfos,\n      parentParameterPath: string[] = []\n    ) => {\n      for (const [parameterName, parameterConfig] of Object.entries(parameterInfos)) {\n        const parameterPath = [...parentParameterPath, parameterName];\n\n        let parameterValue = this.getParameterValue(parameterPath, {\n          evaluateFunctions: parameterConfig.type !== ParameterType.FUNCTION,\n          replaceResult: (originalResult) => {\n            if (typeof originalResult === \"undefined\") {\n              if (typeof parameterConfig.default === \"undefined\") {\n                throw new Error(\n                  `You must specify a value for the \"${parameterPathArrayToString(\n                    parameterPath\n                  )}\" parameter in the \"${this.pluginInfo.name}\" plugin.`\n                );\n              } else {\n                return parameterConfig.default;\n              }\n            } else {\n              return originalResult;\n            }\n          },\n        });\n\n        if (parameterConfig.array && !Array.isArray(parameterValue)) {\n          const parameterPathString = parameterPathArrayToString(parameterPath);\n          throw new Error(\n            `A non-array value (\\`${parameterValue}\\`) was provided for the array parameter \"${parameterPathString}\" in the \"${this.pluginInfo.name}\" plugin. Please make sure that \"${parameterPathString}\" is an array.`\n          );\n        }\n\n        if (parameterConfig.type === ParameterType.COMPLEX && parameterConfig.nested) {\n          // Assign parameter values according to the `nested` schema\n          if (parameterConfig.array) {\n            // ...for each nested array element\n            parameterValue = parameterValue.map((_, arrayIndex) => {\n              const arrayElementPath = [...parameterPath, arrayIndex.toString()];\n              const arrayElementValue = this.getParameterValue(arrayElementPath);\n              assignParameterValues(arrayElementValue, parameterConfig.nested, arrayElementPath);\n              return arrayElementValue;\n            });\n          } else {\n            // ...for the nested object\n            assignParameterValues(parameterValue, parameterConfig.nested, parameterPath);\n          }\n        }\n\n        parameterObject[parameterName] = parameterValue;\n      }\n    };\n\n    const trialObject = deepCopy(this.description);\n    assignParameterValues(trialObject, this.pluginInfo.parameters);\n    this.trialObject = trialObject;\n  }\n\n  public getLatestNode() {\n    return this;\n  }\n\n  public getActiveTimelineByName(name: string): Timeline | undefined {\n    // This returns undefined because the function is looking\n    // for a timeline. If we get to this point, then none\n    // of the parent nodes match the name.\n    return undefined;\n  }\n}\n","import { DataCollection } from \"../modules/data/DataCollection\";\nimport {\n  repeat,\n  sampleWithReplacement,\n  sampleWithoutReplacement,\n  shuffle,\n  shuffleAlternateGroups,\n} from \"../modules/randomization\";\nimport { TimelineNode } from \"./TimelineNode\";\nimport { Trial } from \"./Trial\";\nimport { PromiseWrapper } from \"./util\";\nimport {\n  TimelineArray,\n  TimelineDescription,\n  TimelineNodeDependencies,\n  TimelineNodeStatus,\n  TimelineVariable,\n  TrialDescription,\n  TrialResult,\n  isTimelineDescription,\n  isTrialDescription,\n} from \".\";\n\nexport class Timeline extends TimelineNode {\n  public readonly children: TimelineNode[] = [];\n  public readonly description: TimelineDescription;\n\n  constructor(\n    dependencies: TimelineNodeDependencies,\n    description: TimelineDescription | TimelineArray,\n    public readonly parent?: Timeline\n  ) {\n    super(dependencies);\n    this.description = Array.isArray(description) ? { timeline: description } : description;\n    this.initializeParameterValueCache();\n  }\n\n  private currentChild?: TimelineNode;\n  private shouldAbort = false;\n\n  public async run() {\n    if (typeof this.index === \"undefined\") {\n      // We're the first timeline node to run. Otherwise, another node would have set our index\n      // right before running us.\n      this.index = 0;\n    }\n\n    this.status = TimelineNodeStatus.RUNNING;\n\n    const { conditional_function, loop_function, repetitions = 1 } = this.description;\n\n    // Generate initial timeline variable order so the first set of timeline variables is already\n    // available to the `on_timeline_start` and `conditional_function` callbacks\n    let timelineVariableOrder = this.generateTimelineVariableOrder();\n    this.setCurrentTimelineVariablesByIndex(timelineVariableOrder[0]);\n    let isInitialTimelineVariableOrder = true; // So we don't regenerate the order in the first iteration\n\n    let currentLoopIterationResults: TrialResult[];\n\n    if (!conditional_function || conditional_function()) {\n      this.onStart();\n\n      for (let repetition = 0; repetition < repetitions; repetition++) {\n        do {\n          currentLoopIterationResults = [];\n\n          // Generate a new timeline variable order in each iteration except for the first one where\n          // it has been done before\n          if (isInitialTimelineVariableOrder) {\n            isInitialTimelineVariableOrder = false;\n          } else {\n            timelineVariableOrder = this.generateTimelineVariableOrder();\n          }\n\n          for (const timelineVariableIndex of timelineVariableOrder) {\n            this.setCurrentTimelineVariablesByIndex(timelineVariableIndex);\n\n            for (const childNode of this.instantiateChildNodes()) {\n              const previousChild = this.currentChild;\n              this.currentChild = childNode;\n              childNode.index = previousChild\n                ? previousChild.getLatestNode().index + 1\n                : this.index;\n\n              await childNode.run();\n              // @ts-expect-error TS thinks `this.status` must be `RUNNING` now, but it might have\n              // changed while `await`ing\n              if (this.status === TimelineNodeStatus.PAUSED) {\n                await this.resumePromise.get();\n              }\n              if (this.shouldAbort) {\n                this.status = TimelineNodeStatus.ABORTED;\n                return;\n              }\n\n              currentLoopIterationResults.push(...this.currentChild.getResults());\n            }\n          }\n        } while (loop_function && loop_function(new DataCollection(currentLoopIterationResults)));\n      }\n\n      this.onFinish();\n    }\n\n    this.status = TimelineNodeStatus.COMPLETED;\n  }\n\n  private onStart() {\n    if (this.description.on_timeline_start) {\n      this.description.on_timeline_start();\n    }\n  }\n\n  private onFinish() {\n    if (this.description.on_timeline_finish) {\n      this.description.on_timeline_finish();\n    }\n  }\n\n  pause() {\n    if (this.currentChild instanceof Timeline) {\n      this.currentChild.pause();\n    }\n    this.status = TimelineNodeStatus.PAUSED;\n  }\n\n  private resumePromise = new PromiseWrapper();\n  resume() {\n    if (this.status == TimelineNodeStatus.PAUSED) {\n      if (this.currentChild instanceof Timeline) {\n        this.currentChild.resume();\n      }\n      this.status = TimelineNodeStatus.RUNNING;\n      this.resumePromise.resolve();\n    }\n  }\n\n  /**\n   * If the timeline is running or paused, aborts the timeline after the current trial has completed\n   */\n  abort() {\n    if (this.status === TimelineNodeStatus.RUNNING || this.status === TimelineNodeStatus.PAUSED) {\n      if (this.currentChild instanceof Timeline) {\n        this.currentChild.abort();\n      }\n\n      this.shouldAbort = true;\n      if (this.status === TimelineNodeStatus.PAUSED) {\n        this.resume();\n      }\n    }\n  }\n\n  private instantiateChildNodes() {\n    const newChildNodes = this.description.timeline.map((childDescription) => {\n      return isTimelineDescription(childDescription)\n        ? new Timeline(this.dependencies, childDescription, this)\n        : new Trial(this.dependencies, childDescription, this);\n    });\n    this.children.push(...newChildNodes);\n    return newChildNodes;\n  }\n\n  private currentTimelineVariables: Record<string, any>;\n  private setCurrentTimelineVariablesByIndex(index: number | null) {\n    this.currentTimelineVariables = {\n      ...this.parent?.getAllTimelineVariables(),\n      ...(index === null ? undefined : this.description.timeline_variables[index]),\n    };\n  }\n\n  /**\n   * If the timeline has timeline variables, returns the order of `timeline_variables` array indices\n   * to be used, according to the timeline's `sample` setting. If the timeline has no timeline\n   * variables, returns `[null]`.\n   */\n  private generateTimelineVariableOrder() {\n    const timelineVariableLength = this.description.timeline_variables?.length;\n    if (!timelineVariableLength) {\n      return [null];\n    }\n\n    let order = [...Array(timelineVariableLength).keys()];\n\n    const sample = this.description.sample;\n\n    if (sample) {\n      switch (sample.type) {\n        case \"custom\":\n          order = sample.fn(order);\n          break;\n\n        case \"with-replacement\":\n          order = sampleWithReplacement(order, sample.size, sample.weights);\n          break;\n\n        case \"without-replacement\":\n          order = sampleWithoutReplacement(order, sample.size);\n          break;\n\n        case \"fixed-repetitions\":\n          order = repeat(order, sample.size);\n          break;\n\n        case \"alternate-groups\":\n          order = shuffleAlternateGroups(sample.groups, sample.randomize_group_order);\n          break;\n\n        default:\n          throw new Error(\n            `Invalid type \"${\n              // @ts-expect-error TS doesn't have a type for `sample` in this case\n              sample.type\n            }\" in timeline sample parameters. Valid options for type are \"custom\", \"with-replacement\", \"without-replacement\", \"fixed-repetitions\", and \"alternate-groups\"`\n          );\n      }\n    }\n\n    if (this.description.randomize_order) {\n      order = shuffle(order);\n    }\n\n    return order;\n  }\n\n  /**\n   * Returns the current values of all timeline variables, including those from parent timelines\n   */\n  public getAllTimelineVariables() {\n    return this.currentTimelineVariables;\n  }\n\n  public evaluateTimelineVariable(variable: TimelineVariable) {\n    if (this.currentTimelineVariables?.hasOwnProperty(variable.name)) {\n      return this.currentTimelineVariables[variable.name];\n    }\n    throw new Error(`Timeline variable ${variable.name} not found.`);\n  }\n\n  public getResults() {\n    const results: TrialResult[] = [];\n    for (const child of this.children) {\n      if (child instanceof Trial) {\n        const childResult = child.getResult();\n        if (childResult) {\n          results.push(childResult);\n        }\n      } else if (child instanceof Timeline) {\n        results.push(...child.getResults());\n      }\n    }\n\n    return results;\n  }\n\n  /**\n   * Returns the naive progress of the timeline (as a fraction), without considering conditional or\n   * loop functions.\n   */\n  public getNaiveProgress() {\n    if (this.status === TimelineNodeStatus.PENDING) {\n      return 0;\n    }\n\n    const activeNode = this.getLatestNode();\n    if (!activeNode) {\n      return 1;\n    }\n\n    let completedTrials = activeNode.index;\n    if (activeNode.getStatus() === TimelineNodeStatus.COMPLETED) {\n      completedTrials++;\n    }\n\n    return Math.min(completedTrials / this.getNaiveTrialCount(), 1);\n  }\n\n  /**\n   * Recursively computes the naive number of trials in the timeline, without considering\n   * conditional or loop functions.\n   */\n  public getNaiveTrialCount() {\n    // Since child timeline nodes are instantiated lazily, we cannot rely on them but instead have\n    // to recurse the description programmatically.\n\n    const getTrialCount = (description: TimelineArray | TimelineDescription | TrialDescription) => {\n      const getTimelineArrayTrialCount = (description: TimelineArray) =>\n        description\n          .map((childDescription) => getTrialCount(childDescription))\n          .reduce((a, b) => a + b);\n\n      if (Array.isArray(description)) {\n        return getTimelineArrayTrialCount(description);\n      }\n\n      if (isTrialDescription(description)) {\n        return 1;\n      }\n      if (isTimelineDescription(description)) {\n        let conditionCount = description.timeline_variables?.length || 1;\n\n        switch (description.sample?.type) {\n          case \"with-replacement\":\n          case \"without-replacement\":\n            conditionCount = description.sample.size;\n            break;\n\n          case \"fixed-repetitions\":\n            conditionCount *= description.sample.size;\n            break;\n\n          case \"alternate-groups\":\n            conditionCount = description.sample.groups\n              .map((group) => group.length)\n              .reduce((a, b) => a + b, 0);\n            break;\n        }\n\n        return (\n          getTimelineArrayTrialCount(description.timeline) *\n          (description.repetitions ?? 1) *\n          conditionCount\n        );\n      }\n      return 0;\n    };\n\n    return getTrialCount(this.description);\n  }\n\n  public getLatestNode() {\n    return this.currentChild?.getLatestNode() ?? this;\n  }\n\n  public getActiveTimelineByName(name: string) {\n    if (this.description.name === name) {\n      return this;\n    }\n\n    return this.currentChild?.getActiveTimelineByName(name);\n  }\n}\n","import autoBind from \"auto-bind\";\n\nimport { version } from \"../package.json\";\nimport { ExtensionManager, ExtensionManagerDependencies } from \"./ExtensionManager\";\nimport { JsPsychData, JsPsychDataDependencies } from \"./modules/data\";\nimport { PluginAPI, createJointPluginAPIObject } from \"./modules/plugin-api\";\nimport * as randomization from \"./modules/randomization\";\nimport * as turk from \"./modules/turk\";\nimport * as utils from \"./modules/utils\";\nimport { ProgressBar } from \"./ProgressBar\";\nimport {\n  SimulationMode,\n  SimulationOptionsParameter,\n  TimelineArray,\n  TimelineDescription,\n  TimelineNodeDependencies,\n  TimelineVariable,\n  TrialResult,\n} from \"./timeline\";\nimport { Timeline } from \"./timeline/Timeline\";\nimport { Trial } from \"./timeline/Trial\";\nimport { PromiseWrapper } from \"./timeline/util\";\n\nexport class JsPsych {\n  turk = turk;\n  randomization = randomization;\n  utils = utils;\n  data: JsPsychData;\n  pluginAPI: PluginAPI;\n\n  version() {\n    return version;\n  }\n\n  /** Options */\n  private options: any = {};\n\n  /** Experiment timeline */\n  private timeline?: Timeline;\n\n  /** Target DOM element */\n  private displayContainerElement: HTMLElement;\n  private displayElement: HTMLElement;\n\n  /** Time that the experiment began */\n  private experimentStartTime: Date;\n\n  /**\n   * Whether the page is retrieved directly via the `file://` protocol (true) or hosted on a web\n   * server (false)\n   */\n  private isFileProtocolUsed = false;\n\n  /** The simulation mode (if the experiment is being simulated) */\n  private simulationMode?: SimulationMode;\n\n  /** Simulation options passed in via `simulate()` */\n  private simulationOptions: Record<string, SimulationOptionsParameter>;\n\n  private extensionManager: ExtensionManager;\n\n  constructor(options?) {\n    // override default options if user specifies an option\n    options = {\n      display_element: undefined,\n      on_finish: () => {},\n      on_trial_start: () => {},\n      on_trial_finish: () => {},\n      on_data_update: () => {},\n      on_interaction_data_update: () => {},\n      on_close: () => {},\n      use_webaudio: true,\n      show_progress_bar: false,\n      message_progress_bar: \"Completion Progress\",\n      auto_update_progress_bar: true,\n      default_iti: 0,\n      minimum_valid_rt: 0,\n      experiment_width: null,\n      override_safe_mode: false,\n      case_sensitive_responses: false,\n      extensions: [],\n      ...options,\n    };\n    this.options = options;\n\n    autoBind(this); // so we can pass JsPsych methods as callbacks and `this` remains the JsPsych instance\n\n    // detect whether page is running in browser as a local file, and if so, disable web audio and\n    // video preloading to prevent CORS issues\n    if (\n      window.location.protocol == \"file:\" &&\n      (options.override_safe_mode === false || typeof options.override_safe_mode === \"undefined\")\n    ) {\n      options.use_webaudio = false;\n      this.isFileProtocolUsed = true;\n      console.warn(\n        \"jsPsych detected that it is running via the file:// protocol and not on a web server. \" +\n          \"To prevent issues with cross-origin requests, Web Audio and video preloading have been disabled. \" +\n          \"If you would like to override this setting, you can set 'override_safe_mode' to 'true' in initJsPsych. \" +\n          \"For more information, see: https://www.jspsych.org/overview/running-experiments\"\n      );\n    }\n\n    // initialize modules\n    this.data = new JsPsychData(this.dataDependencies);\n    this.pluginAPI = createJointPluginAPIObject(this);\n\n    this.extensionManager = new ExtensionManager(\n      this.extensionManagerDependencies,\n      options.extensions\n    );\n  }\n\n  private endMessage?: string;\n\n  /**\n   * Starts an experiment using the provided timeline and returns a promise that is resolved when\n   * the experiment is finished.\n   *\n   * @param timeline The timeline to be run\n   */\n  async run(timeline: TimelineDescription | TimelineArray) {\n    if (typeof timeline === \"undefined\") {\n      console.error(\"No timeline declared in jsPsych.run(). Cannot start experiment.\");\n    }\n\n    if (timeline.length === 0) {\n      console.error(\n        \"No trials have been added to the timeline (the timeline is an empty array). Cannot start experiment.\"\n      );\n    }\n\n    // create experiment timeline\n    this.timeline = new Timeline(this.timelineDependencies, timeline);\n\n    await this.prepareDom();\n    await this.extensionManager.initializeExtensions();\n\n    document.documentElement.setAttribute(\"jspsych\", \"present\");\n\n    this.experimentStartTime = new Date();\n\n    await this.timeline.run();\n    await Promise.resolve(this.options.on_finish(this.data.get()));\n\n    if (this.endMessage) {\n      this.getDisplayElement().innerHTML = this.endMessage;\n    }\n\n    this.data.removeInteractionListeners();\n  }\n\n  async simulate(\n    timeline: any[],\n    simulation_mode: \"data-only\" | \"visual\" = \"data-only\",\n    simulation_options = {}\n  ) {\n    this.simulationMode = simulation_mode;\n    this.simulationOptions = simulation_options;\n    await this.run(timeline);\n  }\n\n  public progressBar?: ProgressBar;\n\n  getProgress() {\n    return {\n      total_trials: this.timeline?.getNaiveTrialCount(),\n      current_trial_global: this.timeline?.getLatestNode().index ?? 0,\n      percent_complete: this.timeline?.getNaiveProgress() * 100,\n    };\n  }\n\n  getStartTime() {\n    return this.experimentStartTime; // TODO This seems inconsistent, given that `getTotalTime()` returns a number, not a `Date`\n  }\n\n  getTotalTime() {\n    if (!this.experimentStartTime) {\n      return 0;\n    }\n    return new Date().getTime() - this.experimentStartTime.getTime();\n  }\n\n  getDisplayElement() {\n    return this.displayElement;\n  }\n\n  getDisplayContainerElement() {\n    return this.displayContainerElement;\n  }\n\n  abortExperiment(endMessage?: string, data = {}) {\n    this.endMessage = endMessage;\n    this.timeline.abort();\n    this.pluginAPI.cancelAllKeyboardResponses();\n    this.pluginAPI.clearAllTimeouts();\n    this.finishTrial(data);\n  }\n\n  abortCurrentTimeline() {\n    let currentTimeline = this.timeline?.getLatestNode();\n    if (currentTimeline instanceof Trial) {\n      currentTimeline = currentTimeline.parent;\n    }\n    if (currentTimeline instanceof Timeline) {\n      currentTimeline.abort();\n    }\n  }\n\n  /**\n   * Aborts a named timeline. The timeline must be currently running in order to abort it.\n   *\n   * @param name The name of the timeline to abort. Timelines can be given names by setting the `name` parameter in the description of the timeline.\n   */\n  abortTimelineByName(name: string): void {\n    const timeline = this.timeline?.getActiveTimelineByName(name);\n    if (timeline) {\n      timeline.abort();\n    }\n  }\n\n  getCurrentTrial() {\n    const activeNode = this.timeline?.getLatestNode();\n    if (activeNode instanceof Trial) {\n      return activeNode.description;\n    }\n    return undefined;\n  }\n\n  getInitSettings() {\n    return this.options;\n  }\n\n  timelineVariable(variableName: string) {\n    return new TimelineVariable(variableName);\n  }\n\n  evaluateTimelineVariable(variableName: string) {\n    return this.timeline\n      ?.getLatestNode()\n      ?.evaluateTimelineVariable(new TimelineVariable(variableName));\n  }\n\n  pauseExperiment() {\n    this.timeline?.pause();\n  }\n\n  resumeExperiment() {\n    this.timeline?.resume();\n  }\n\n  getSafeModeStatus() {\n    return this.isFileProtocolUsed;\n  }\n\n  getTimeline() {\n    return this.timeline?.description.timeline;\n  }\n\n  get extensions() {\n    return this.extensionManager?.extensions ?? {};\n  }\n\n  private async prepareDom() {\n    // Wait until the document is ready\n    if (document.readyState !== \"complete\") {\n      await new Promise((resolve) => {\n        window.addEventListener(\"load\", resolve);\n      });\n    }\n\n    const options = this.options;\n\n    // set DOM element where jsPsych will render content\n    // if undefined, then jsPsych will use the <body> tag and the entire page\n    if (typeof options.display_element === \"undefined\") {\n      // check if there is a body element on the page\n      let body = document.body;\n      if (!body) {\n        body = document.createElement(\"body\");\n        document.documentElement.appendChild(body);\n      }\n      // using the full page, so we need the HTML element to have 100% height, and body to be full\n      // width and height with no margin\n      document.querySelector(\"html\").style.height = \"100%\";\n\n      body.style.margin = \"0px\";\n      body.style.height = \"100%\";\n      body.style.width = \"100%\";\n      options.display_element = body;\n    } else {\n      // make sure that the display element exists on the page\n      const display =\n        options.display_element instanceof Element\n          ? options.display_element\n          : document.querySelector(\"#\" + options.display_element);\n      if (display === null) {\n        console.error(\"The display_element specified in initJsPsych() does not exist in the DOM.\");\n      } else {\n        options.display_element = display;\n      }\n    }\n\n    const contentElement = document.createElement(\"div\");\n    contentElement.id = \"jspsych-content\";\n\n    const contentWrapperElement = document.createElement(\"div\");\n    contentWrapperElement.className = \"jspsych-content-wrapper\";\n    contentWrapperElement.appendChild(contentElement);\n\n    this.displayContainerElement = options.display_element;\n    this.displayContainerElement.appendChild(contentWrapperElement);\n    this.displayElement = contentElement;\n\n    // set experiment_width if not null\n    if (options.experiment_width !== null) {\n      this.displayElement.style.width = options.experiment_width + \"px\";\n    }\n\n    // add tabIndex attribute to scope event listeners\n    options.display_element.tabIndex = 0;\n\n    // Add CSS classes to container and display elements\n    this.displayContainerElement.classList.add(\"jspsych-display-element\");\n    this.displayElement.classList.add(\"jspsych-content\");\n\n    // create listeners for user browser interaction\n    this.data.createInteractionListeners();\n\n    // add event for closing window\n    window.addEventListener(\"beforeunload\", options.on_close);\n\n    if (this.options.show_progress_bar) {\n      const progressBarContainer = document.createElement(\"div\");\n      progressBarContainer.id = \"jspsych-progressbar-container\";\n\n      this.progressBar = new ProgressBar(progressBarContainer, this.options.message_progress_bar);\n\n      this.getDisplayContainerElement().insertAdjacentElement(\"afterbegin\", progressBarContainer);\n    }\n  }\n\n  private finishTrialPromise = new PromiseWrapper<TrialResult | void>();\n  finishTrial(data?: TrialResult) {\n    this.finishTrialPromise.resolve(data);\n  }\n\n  private timelineDependencies: TimelineNodeDependencies = {\n    onTrialStart: (trial: Trial) => {\n      this.options.on_trial_start(trial.trialObject);\n\n      // apply the focus to the element containing the experiment.\n      this.getDisplayContainerElement().focus();\n      // reset the scroll on the DOM target\n      this.getDisplayElement().scrollTop = 0;\n    },\n\n    onTrialResultAvailable: (trial: Trial) => {\n      const result = trial.getResult();\n      if (result) {\n        result.time_elapsed = this.getTotalTime();\n        this.data.write(trial);\n      }\n    },\n\n    onTrialFinished: (trial: Trial) => {\n      const result = trial.getResult();\n      this.options.on_trial_finish(result);\n\n      if (result) {\n        this.options.on_data_update(result);\n      }\n\n      if (this.progressBar && this.options.auto_update_progress_bar) {\n        this.progressBar.progress = this.timeline.getNaiveProgress();\n      }\n    },\n\n    runOnStartExtensionCallbacks: (extensionsConfiguration) =>\n      this.extensionManager.onStart(extensionsConfiguration),\n\n    runOnLoadExtensionCallbacks: (extensionsConfiguration) =>\n      this.extensionManager.onLoad(extensionsConfiguration),\n\n    runOnFinishExtensionCallbacks: (extensionsConfiguration) =>\n      this.extensionManager.onFinish(extensionsConfiguration),\n\n    getSimulationMode: () => this.simulationMode,\n\n    getGlobalSimulationOptions: () => this.simulationOptions,\n\n    instantiatePlugin: (pluginClass) => new pluginClass(this),\n\n    getDisplayElement: () => this.getDisplayElement(),\n\n    getDefaultIti: () => this.getInitSettings().default_iti,\n\n    finishTrialPromise: this.finishTrialPromise,\n\n    clearAllTimeouts: () => this.pluginAPI.clearAllTimeouts(),\n  };\n\n  private extensionManagerDependencies: ExtensionManagerDependencies = {\n    instantiateExtension: (extensionClass) => new extensionClass(this),\n  };\n\n  private dataDependencies: JsPsychDataDependencies = {\n    getProgress: () => ({\n      time: this.getTotalTime(),\n      trial: this.timeline?.getLatestNode().index ?? 0,\n    }),\n\n    onInteractionRecordAdded: (record) => {\n      this.options.on_interaction_data_update(record);\n    },\n\n    getDisplayElement: () => this.getDisplayElement(),\n  };\n}\n","export class MigrationError extends Error {\n  constructor(message = \"The global `jsPsych` variable is no longer available in jsPsych v7.\") {\n    super(\n      `${message} Please follow the migration guide at https://www.jspsych.org/7.0/support/migration-v7/ to update your experiment.`\n    );\n    this.name = \"MigrationError\";\n  }\n}\n\n// Define a global jsPsych object to handle invocations on it with migration errors\n(window as any).jsPsych = {\n  get init() {\n    throw new MigrationError(\"`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.\");\n  },\n\n  get data() {\n    throw new MigrationError();\n  },\n  get randomization() {\n    throw new MigrationError();\n  },\n  get turk() {\n    throw new MigrationError();\n  },\n  get pluginAPI() {\n    throw new MigrationError();\n  },\n\n  get ALL_KEYS() {\n    throw new MigrationError(\n      'jsPsych.ALL_KEYS was replaced by the \"ALL_KEYS\" string in jsPsych v7.'\n    );\n  },\n  get NO_KEYS() {\n    throw new MigrationError('jsPsych.NO_KEYS was replaced by the \"NO_KEYS\" string in jsPsych v7.');\n  },\n};\n","// __rollup-babel-import-regenerator-runtime__\n\nimport { JsPsych } from \"./JsPsych\";\nimport { MigrationError } from \"./migration\";\n\n// temporary patch for Safari\nif (\n  typeof window !== \"undefined\" &&\n  window.hasOwnProperty(\"webkitAudioContext\") &&\n  !window.hasOwnProperty(\"AudioContext\")\n) {\n  // @ts-expect-error\n  window.AudioContext = webkitAudioContext;\n}\n// end patch\n\n// The following function provides a uniform interface to initialize jsPsych, no matter whether a\n// browser supports ES6 classes or not (and whether the ES6 build or the Babel build is used).\n/**\n * Creates a new JsPsych instance using the provided options.\n *\n * @param options The options to pass to the JsPsych constructor\n * @returns A new JsPsych instance\n */\nexport function initJsPsych(options?) {\n  const jsPsych = new JsPsych(options);\n\n  // Handle invocations of non-existent v6 methods with migration errors\n  const migrationMessages = {\n    init: \"`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.\",\n\n    ALL_KEYS: 'jsPsych.ALL_KEYS was replaced by the \"ALL_KEYS\" string in jsPsych v7.',\n    NO_KEYS: 'jsPsych.NO_KEYS was replaced by the \"NO_KEYS\" string in jsPsych v7.',\n\n    // Getter functions that were renamed\n    currentTimelineNodeID:\n      \"`currentTimelineNodeID()` was renamed to `getCurrentTimelineNodeID()` in jsPsych v7.\",\n    progress: \"`progress()` was renamed to `getProgress()` in jsPsych v7.\",\n    startTime: \"`startTime()` was renamed to `getStartTime()` in jsPsych v7.\",\n    totalTime: \"`totalTime()` was renamed to `getTotalTime()` in jsPsych v7.\",\n    currentTrial: \"`currentTrial()` was renamed to `getCurrentTrial()` in jsPsych v7.\",\n    initSettings: \"`initSettings()` was renamed to `getInitSettings()` in jsPsych v7.\",\n    allTimelineVariables:\n      \"`allTimelineVariables()` was renamed to `getAllTimelineVariables()` in jsPsych v7.\",\n  };\n\n  Object.defineProperties(\n    jsPsych,\n    Object.fromEntries(\n      Object.entries(migrationMessages).map(([key, message]) => [\n        key,\n        {\n          get() {\n            throw new MigrationError(message);\n          },\n        },\n      ])\n    )\n  );\n\n  return jsPsych;\n}\n\nexport { JsPsych } from \"./JsPsych\";\nexport type { JsPsychPlugin, PluginInfo, TrialType } from \"./modules/plugins\";\nexport { ParameterType } from \"./modules/plugins\";\nexport type { JsPsychExtension, JsPsychExtensionInfo } from \"./modules/extensions\";\nexport { DataCollection } from \"./modules/data/DataCollection\";\n"],"names":["autoBind","ParameterType","randomWords","this","define","TimelineNodeStatus","path","description","version"],"mappings":"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"}